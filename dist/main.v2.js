!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),a=[];function s(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},n=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],u=r[l]||0,c="".concat(l," ").concat(u);r[l]=u+1;var f=s(c),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:c,updater:g(d,t),references:1}),n.push(c)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,f=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,r){var n=r.css,i=r.media,o=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,v=0;function g(e,t){var r,n,i;if(t.singleton){var o=v++;r=p||(p=u(t)),n=d.bind(null,r,o,!1),i=d.bind(null,r,o,!0)}else r=u(t),n=h.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=s(r[n]);a[i].references--}for(var o=l(e,t),u=0;u<r.length;u++){var c=s(r[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}r=o}}}},function(e,t,r){(e.exports=r(3)(!1)).push([e.i,"/*!\r\n * üëÅÔ∏è - Áªü‰∏Ä‰∏çÂêåÊµèËßàÂô®ÁöÑÂü∫Á°ÄÊ†∑Âºè\r\n * https://github.com/hai2007/style.css/blob/master/normalize.css\r\n *\r\n * author hai2007 < https://hai2007.gitee.io/sweethome >\r\n *\r\n * Copyright (c) 2020-present hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ\r\n * Released under the MIT license\r\n */\r\n\r\nhtml {\r\n    /* Èò≤Ê≠¢iPhoneÂú®ÂùöÂ±èËΩ¨ÂêëÊ®™Â±èÊó∂ÊîæÂ§ßÊñáÂ≠ó */\r\n    -ms-text-size-adjust: 100%;\r\n    -webkit-text-size-adjust: 100%;\r\n    /* Áªü‰∏ÄË°åÈ´ò */\r\n    line-height: 1.15;\r\n}\r\n\r\nbutton,\r\ninput {\r\n    /* ÂÖºÂÆπÈÉ®ÂàÜÊâãÊú∫‰∏ãborder‰∏çÊòæÁ§∫ÈóÆÈ¢ò */\r\n    border: 1px solid #b2b2bd;\r\n}\r\n\r\narticle,\r\nfooter,\r\nheader,\r\nnav,\r\nsection {\r\n    /* ‰øÆÊ≠£ÊóßÊµèËßàÂô®Êú™ÂÆö‰πâÁöÑÂùóÁ∫ßÂÖÉÁ¥† */\r\n    display: block;\r\n}\r\n\r\ncanvas,\r\nsvg {\r\n    /* ‰øÆÊ≠£ÊóßÊµèËßàÂô®Êú™ÂÆö‰πâÁöÑË°åÂÜÖÂùóÂÖÉÁ¥† */\r\n    display: inline-block;\r\n}\r\n\r\n* {\r\n    /* Áªü‰∏Ä‰∏çÂêåÊµèËßàÂô®ÁõíÂ≠êÂ∞∫ÂØ∏ËÆ°ÁÆóÊñπÊ≥ï */\r\n    box-sizing: border-box;\r\n}\r\n\r\n::-ms-clear,\r\n::-ms-reveal {\r\n    /* ÂéªÊéâIEÊµèËßàÂô®ËæìÂÖ•Ê°ÜÂèâÂèâÂíåÁúºÁùõ */\r\n    display: none;\r\n}\r\n\r\nimg {\r\n    /* ÈíàÂØπÁÅ´ÁãêÊµèËßàÂô®Âú®imgÊ†áÁ≠æÊ≤°ÊúâsrcÊó∂ÂÄôÁöÑÂ∑ÆÂºÇ‰øÆÂ§ç */\r\n    display: inline-block;\r\n}\r\n\r\nhtml {\r\n    /* ËÆæÁΩÆÈªòËÆ§Â≠ó‰Ωì‰∏∫Áªü‰∏ÄÁöÑÂÆâÂÖ®Â≠ó‰Ωì */\r\n    font-family: sans-serif;\r\n}\r\n\r\na {\r\n    /* ÈªòËÆ§ÂéªÊéâ‰∏ãÂàíÁ∫ø */\r\n    text-decoration: none;\r\n}\r\n\r\nli {\r\n    /* ÂéªÊéâÂâçÁΩÆÁ¥¢Âºï */\r\n    list-style-type: none;\r\n}\r\n\r\nul,\r\nol,\r\nli,\r\np,\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n    /* ÂéªÊéâ‰∏çÂñúÊ¨¢ÁöÑÈó¥Ë∑ù */\r\n    -webkit-margin-before: 0;\r\n    -webkit-margin-after: 0;\r\n    -webkit-padding-start: 0;\r\n    /* ÂéªÊéâ‰∏çÂñúÊ¨¢ÁöÑÈó¥Ë∑ùÔºåÈíàÂØπÁÅ´ÁãêÊµèËßàÂô®Á≠â */\r\n    margin-block-end: 0;\r\n    margin-block-start: 0;\r\n    padding-inline-start: 0;\r\n    /* ‰øÆÊîπIEÂíåÂÖ∂ÂÆÉÊµèËßàÂô®‰∏ç‰∏ÄËá¥ÈóÆÈ¢ò */\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\nbody {\r\n    /* ÂéªÊéâÈªòËÆ§ÁöÑ8px */\r\n    margin: 0;\r\n}\r\n\r\ntable {\r\n    /* ËÆæÁΩÆÈªòËÆ§Ë°®Ê†ºËæπÊ°ÜÂêàÂπ∂‰∏∫‰∏Ä‰∏™Âçï‰∏ÄÁöÑËæπÊ°Ü */\r\n    border-collapse: collapse;\r\n}\r\n",""])},function(e,t,r){(e.exports=r(3)(!1)).push([e.i,".view>.canvas {\n    width: 100vw;\n    height: 100vh;\n    position: fixed;\n    left: 0;\n    top: 0;\n}\n\nbody {\n    background-color: #332929;\n}\n\n.input-add {\n    position: fixed;\n    left: 200px;\n    top: 80px;\n}\n\n.input-add {\n    font-size: 0;\n}\n\n.input-add>* {\n    vertical-align: top;\n    font-size: 16px;\n}\n\n.input-add>input {\n    height: 40px;\n    display: inline-block;\n    width: 220px;\n    background-color: #c5c0c0;\n    padding: 10px;\n    color: #fff;\n}\n\n.input-add>span {\n    width: 40px;\n    height: 40px;\n    line-height: 40px;\n    display: inline-block;\n    color: #000;\n    font-size: 30px;\n    background-color: white;\n    text-align: center;\n    cursor: pointer;\n}\n\n.fork {\n    position: fixed;\n    transform: rotate(45deg);\n    line-height: 1.6em;\n    transform-origin: 150px 23px;\n    text-align: center;\n    font-family: sans-serif;\n    display: inline-block;\n    top: 60px;\n    right: -60px;\n    width: 300px;\n    background-color: #03a9f4;\n    outline: 4px solid #03a9f4;\n    border: 2px dashed #065b9f;\n    color: #fafafa;\n}\n",""])},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(o).concat([i]).join("\n")}var a;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(n[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){(function(e){
/*!
 * clunch.js - üé® The Progressive JavaScript Interactive Picture Framework.
 * git+https://github.com/hai2007/clunch.git
 *
 * author hai2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.2.2
 *
 * Copyright (c) 2020 hai2007 Ëµ∞‰∏ÄÊ≠•ÔºåÂÜçËµ∞‰∏ÄÊ≠•„ÄÇ
 * Released under the MIT license
 *
 * Date:Sat Dec 19 2020 20:21:18 GMT+0800 (GMT+08:00)
 */
!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=Object.prototype.toString;function o(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i.call(e)}var a=function(e,r){return null!==r&&"object"===t(r)&&e.indexOf(r.nodeType)>-1&&!function(e){if(null===e||"object"!==t(e)||"[object Object]"!=o(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}(r)},s=function(e){var r=t(e);return"string"===r||"object"===r&&null!=e&&!Array.isArray(e)&&"[object String]"===o(e)},l=function(e){if(!function(e){var r=t(e);return null!=e&&("object"===r||"function"===r)}(e))return!1;var r=o(e);return"[object Function]"===r||"[object AsyncFunction]"===r||"[object GeneratorFunction]"===r||"[object Proxy]"===r},u=function(e){return Array.isArray(e)},c=function(e){return a([1,9,11],e)},f=[],d=null;function h(e,t,r){var n={timer:function(e,t,r){if(!e)throw new Error("Tick is required!");t=t||400;var i=(new Date).valueOf()+"_"+(1e3*Math.random()).toFixed(0);return f.push({id:i,createTime:new Date,tick:e,duration:t,callback:r}),n.start(),i},start:function(){d||(d=setInterval(n.tick,13))},tick:function(){var e,t,r,i,o,a,s,l=f;for((f=[]).length=0,t=0;t<l.length;t++)e=(o=l[t]).createTime,r=o.tick,a=o.duration,i=o.callback,r(s=(s=(+new Date-e)/a)>1?1:s),s<1&&o.id?f.push(o):i&&i(s);f.length<=0&&n.stop()},stop:function(){d&&(clearInterval(d),d=null)}},i=n.timer((function(t){e(t)}),t,r);return function(){var e;for(e in f)if(f[e].id==i)return void(f[e].id=void 0)}}var p=function(e,t){for(var r in t)try{e[r]=t[r]}catch(e){throw new Error("Illegal property valueÔºÅ")}return e},v="[\\x20\\t\\r\\n\\f]",g=function(e){/^[_$]/.test(e)&&console.warn("The beginning of _ or $ is not allowedÔºö"+e)};function b(e){var t,r,n;e=function(e,t){for(var r in t)try{e[r]=t[r]}catch(e){throw new Error("Illegal property valueÔºÅ")}return e}({u:.5},e);var i=function(e){if(t){var i=(e-r)/(n-r),o=i*i;return(i*o*t[0]+o*t[1]+i*t[2]+t[3])*(n-r)}throw new Error("You shoud first set the position!")};return i.setP=function(o,a,s,l,u,c){if(!(o<s))throw new Error("The point x-position should be increamented!");r=o,n=s;var f=e.u*u,d=e.u*c;return t=[2*(a/=s-o)-2*(l/=s-o)+f+d,3*l-3*a-2*f-d,f,a],i},i}function y(e){var t,r;e=p({t:0},e);var n=function(e){if(t){for(r=-1;r+1<t.x.length&&(e>t.x[r+1]||-1==r&&e>=t.x[r+1]);)r+=1;if(-1==r||r>=t.h.length)throw new Error("Coordinate crossing!");return t.h[r](e)}throw new Error("You shoud first set the position!")};return n.setT=function(t){if("number"!=typeof t)throw new Error("Expecting a figure!");return e.t=t,n},n.setP=function(r){t={x:[],h:[]};var i,o,a=(r[1][1]-r[0][1])/(r[1][0]-r[0][0]);for(t.x[0]=r[0][0],i=1;i<r.length;i++){if(r[i][0]<=r[i-1][0])throw new Error("The point position should be increamented!");t.x[i]=r[i][0],o=i<r.length-1?(r[i+1][1]-r[i-1][1])/(r[i+1][0]-r[i-1][0]):(r[i][1]-r[i-1][1])/(r[i][0]-r[i-1][0]),t.h[i-1]=b({u:.5*(1-e.t)}).setP(r[i-1][0],r[i-1][1],r[i][0],r[i][1],a,o),a=o}return n},n}function m(e,t){var r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle;return s(t)?r.getPropertyValue(t):r}var _=function(e){var t=document.getElementsByTagName("head")[0];t.style.color=e;var r=m(t,"color").replace(/^rgba?\(([^)]+)\)$/,"$1").split(new RegExp("\\,"+v));return[+r[0],+r[1],+r[2],null==r[3]?1:+r[3]]},x=function(e,t){t&&t>=0&&t<=1||(t=1);for(var r=[],n=1;n<=e;n++)r.push("rgba("+(230*Math.random(1)+20).toFixed(0)+","+(230*Math.random(1)+20).toFixed(0)+","+(230*Math.random(1)+20).toFixed(0)+","+t+")");return r};function w(e){var t,r,n=e||{},i=function(e){var i=function(e){var t,r,i={},o=n.root(e);t=r=n.id(o),i[t]={data:o,pid:null,id:t,children:[]};var a=1;return function r(o,s){var l,u=n.child(o,e);for(a+=u?u.length:0,l=0;u&&l<u.length;l++)t=n.id(u[l]),i[s].children.push(t),i[t]={data:u[l],pid:s,id:t,children:[]},r(u[l],t)}(o,t),{value:[r,i],num:a}}(e);return t=i.value[1],r=i.value[0],1==i.num?(t[r].left=.5,t[r].top=.5,{deep:1,node:t,root:r,size:1}):function(){var e=[],n=0,i=0;return function r(o,a){var s;for(a>i&&(i=a),s=0;s<o.children.length;s++)r(t[o.children[s]],a+1);(t[o.id].left=a+.5,0==s)?(null==e[a]&&(e[a]=-.5),null==e[a-1]&&(e[a-1]=-.5),t[o.id].top=e[a]+1,e[a]+1+.5*(t[o.pid].children.length-1)-1<e[a-1]&&(t[o.id].top=e[a-1]+1-.5*(t[o.pid].children.length-1))):t[o.id].top=.5*(t[o.children[0]].top+t[o.children[s-1]].top);if(t[o.id].top<=e[a]){var l=e[a]+1-t[o.id].top;!function r(n,i){var o;for(t[n].top+=l,e[i]<t[n].top&&(e[i]=t[n].top),o=0;o<t[n].children.length;o++)r(t[n].children[o],i+1)}(o.id,a)}e[a]=t[o.id].top,t[o.id].top+.5>n&&(n=t[o.id].top+.5)}(t[r],0),{node:t,root:r,size:n,deep:i+1}}()};return i.root=function(e){return n.root=e,i},i.child=function(e){return n.child=e,i},i.id=function(e){return n.id=e,i},i}var k=function(e,t,r,n,i){var o=Math.cos(r),a=Math.sin(r);return[+((n-e)*o-(i-t)*a+e).toFixed(7),+((n-e)*a+(i-t)*o+t).toFixed(7)]},$=function(e,t,r,n,i){var o=Math.sqrt(e*e+t*t);return[+(e*r/o+n).toFixed(7),+(t*r/o+i).toFixed(7)]},S=function(e,t,r,n,i){return[+(r*(n-e)+e).toFixed(7),+(r*(i-t)+t).toFixed(7)]},M=function(e){e=p({d:[1,1],c:[0,0],p:[0,0]},e);var t={rotate:function(r){var n=e.d[0]+e.p[0],i=e.d[1]+e.p[1],o=k(e.p[0],e.p[1],r,n,i);return e.d=[o[0]-e.p[0],o[1]-e.p[1]],t},move:function(r){return e.p=$(e.d[0],e.d[1],r,e.p[0],e.p[1]),t},scale:function(r){return e.p=S(e.c[0],e.c[1],r,e.p[0],e.p[1]),t},value:function(){return e.p}};return t};function T(e){e=p({"begin-deg":0,deg:2*Math.PI},e);var t=w().root(e.root).child(e.child).id(e.id),r=function r(n){var i=t(n);for(var o in i.node)i.node[o].deep=i.node[o].left-.5;if("LR"===e.type||"RL"===e.type){var a=e.width/i.deep;"RL"===e.type&&(a*=-1);var s=e.height/(i.size- -.5);for(var u in i.node){var c=i.node[u];i.node[u].left=+(("RL"==e.type?e.width:0)- -c.left*a).toFixed(7),i.node[u].top=+(c.top*s).toFixed(7)}}else if("TB"===e.type||"BT"===e.type){var f=e.height/i.deep;"BT"==e.type&&(f*=-1);var d,h,p=e.width/(i.size- -.5);for(var v in i.node){var g=i.node[v];d=g.left,h=g.top,i.node[v].top=+(("BT"==e.type?e.height:0)- -d*f).toFixed(7),i.node[v].left=+(h*p).toFixed(7)}}else if("circle"===e.type)if(1==i.deep&&1==i.size)i.node[i.root].left=e.cx,i.node[i.root].top=e.cy;else{var b=e.radius/(i.deep-1),y=e.deg/(i.size- -.5);for(var m in i.node){var _=i.node[m];i.node[m].deg=(e["begin-deg"]- -y*_.top)%(2*Math.PI);var x=k(e.cx,e.cy,i.node[m].deg,e.cx- -b*(_.left-.5),e.cy);i.node[m].left=+x[0],i.node[m].top=+x[1]}}return l(e.drawer)?(e.drawer(i),r):i};return r.config=function(t){return e=p(e,t),r},r.drawer=function(t){return e.drawer=t,r},r}var A=function(e,t,r,n){var i=Math.cos(e),o=Math.sin(e);return[t*i-r*o,t*o+r*i,n]},R=[];function z(e,t,r){return R=function(e,t,r,n){var i=Math.cos(e),o=Math.sin(e);return[n*o+t*i,r,n*i-t*o]}((360-r)/180*Math.PI,100*e.scale,0,0),R=A(t/180*Math.PI,R[0],R[1],R[2]),R=A((90-e.center[0])/180*Math.PI,R[0],R[1],R[2]),[-(R=function(e,t,r,n){var i=Math.cos(e),o=Math.sin(e);return[t,r*i-n*o,r*o+n*i]}((90-e.center[1])/180*Math.PI,R[0],R[1],R[2]))[0],R[1],R[2]]}function O(e){var t=p({type:"eoap",scale:1,center:[107,36]},e),r=function(e,r){switch(t.type){case"eoap":return z(t,e,r);default:throw new Error("Map type configuration error!")}};return r.config=function(e){return t=p(t,e),r},r}function P(e){for(var t=[],r=function(r){["boolean","number","json","string","color","any"].indexOf(e[r])>-1?t.unshift((function(t){var n=!(arguments.length>0);return function(i){return{type:e[r],required:n,animation:i,default:t}}})):t.unshift({$animation:h,$cardinal:y,$formatColor:_,$getRandomColors:x,$tree:T,$dot:M,$rotate:k,$move:$,$scale:S,$map:O}[e[r]])},n=e.length-2;n>=0;n--)r(n);return e[e.length-1].apply(this,t)}var j=function(e,t){switch(e){case"boolean":return"true"==t;case"number":return/deg$/.test(t)?(0- -t.replace(/deg$/,""))/180*Math.PI:/pi$/.test(t)?(0- -t.replace(/pi$/,""))*Math.PI:s(t)?+t:t;case"json":return s(t)?JSON.parse(t):t}return t};function I(e,t){e=JSON.parse(JSON.stringify(e));var r=0;return function e(n,i){for(var o=[],a=0;a<n.length;a++){var l=n[a];if(i||l.name in t){var u={name:l.name,attrs:{},events:[],scope:{},index:r++},c=i?{attrs:t[i].subAttrs[l.name]}:t[l.name];for(var f in l.attrs)if(/^c\-bind\:/.test(f)||/^\:/.test(f))l.attrs[f.replace(/^(?:c\-bind){0,1}\:/,"")]={isBind:!0,express:l.attrs[f]},delete l.attrs[f];else if(/^c\-on\:/.test(f)){var d=(f.replace(/^c\-on\:/,"")+"@default").split("@");u.events.push({event:d[0],region:d[1],method:l.attrs[f]})}else if("c-for"==f){var h=/^ {0,}\(/.test(l.attrs[f]),p=h?/^ {0,}\( {0,}([0-9a-zA-Z_$]+) {0,}, {0,}([0-9a-zA-Z_$]+) {0,}\) {1,}in {1,}([^ ]+) {0,}$/.exec(l.attrs[f]):/^ {0,}([0-9a-zA-Z_$]+) {1,}in {1,}([^ ]+) {0,}$/.exec(l.attrs[f]);u["c-for"]={key:h?p[2]:null,value:p[1],data:h?p[3]:p[2]}}else"c-if"==f?u["c-if"]=l.attrs[f]:l.attrs[f]={isBind:!1,express:l.attrs[f]};for(var v in l.attrs)/^c\-/.test(v)||("$id"==v?u.$id=l.attrs.$id:v in c.attrs||console.warn("attrs."+v+" is not defined for "+(i?i+" > "+l.name:l.name)+"!"));for(var g in c.attrs){var b=c.attrs[g];if(b.required&&!(g in l.attrs))throw new Error("attrs."+g+" is required for "+(i?i+" > "+l.name:l.name)+"!");u.attrs[g]={animation:b.animation,type:b.type,value:g in l.attrs?l.attrs[g]:{isBind:!1,express:b.default}},u.attrs[g].value.isBind||(u.attrs[g].value.express=j(u.attrs[g].type,u.attrs[g].value.express))}var y=[],m=[],_=[];if(l.children)for(var x=0;x<l.children.length;x++)s(l.children[x])?_.push(l.children[x]):c.subAttrs&&l.children[x].name in c.subAttrs?m.push(l.children[x]):y.push(l.children[x]);u.children=e(y),u.subAttrs=e(m,l.name),u.text=_,o.push(u)}else console.error("Series "+l.name+" is not defined!")}return o}(e)}var E=function(e,t,r,n,i){var o=Math.cos(r),a=Math.sin(r);return[+((n-e)*o-(i-t)*a+e).toFixed(7),+((n-e)*a+(i-t)*o+t).toFixed(7)]};var C=function(e,t,r,n,i){return e.beginPath(),e.translate(r,n),e.rotate(i),e.font=t["font-size"]+"px "+t["font-family"],e},D=function(e,t,r,n,i,o,a,s){if(i>o){var l=i;i=o,o=l}return a%=2*Math.PI,s>=1.999999*Math.PI||s<=1.999999*-Math.PI?s=2*Math.PI:s%=2*Math.PI,function(e,t,r,n,i,o,a){t<0&&(e+=t,t*=-1);var s,l=[];s=E(0,0,e,i,0),l[0]=s[0],l[1]=s[1],s=E(0,0,t,s[0],s[1]),l[2]=s[0],l[3]=s[1],s=E(0,0,e,o,0),l[4]=s[0],l[5]=s[1],s=E(0,0,t,s[0],s[1]),l[6]=s[0],l[7]=s[1],a(e,e+t,l[0]+r,l[1]+n,l[4]+r,l[5]+n,l[2]+r,l[3]+n,l[6]+r,l[7]+n,.5*(o-i))}(a,s,r,n,i,o,(function(a,s,l,u,c,f,d,h,p,v,g){g<0&&(g=-g),e.beginPath(),e.moveTo(l,u),e.arc(r,n,i,a,s,!1),"round"!=t["arc-end-cap"]?e.lineTo(p,v):e.arc(.5*(d+p),.5*(h+v),g,s-Math.PI,s,!0),e.arc(r,n,o,s,a,!0),"round"!=t["arc-start-cap"]?e.lineTo(l,u):e.arc(.5*(l+c),.5*(u+f),g,a,a-Math.PI,!0)})),"butt"==t["arc-start-cap"]&&e.closePath(),e},W=function(e,t,r,n){return e.beginPath(),e.moveTo(t+n,r),e.arc(t,r,n,0,2*Math.PI),e},L=function(e,t,r,n,i){return e.beginPath(),e.rect(t,r,n,i),e};function B(e,r,n){var i=e.getContext("2d");if(0==r||0==n)throw new Error("Canvas is hidden or size is zero!");e.style.width=r+"px",e.style.height=n+"px",e.setAttribute("width",2*r),e.setAttribute("height",2*n),i.scale(2,2),i.textBaseline="middle",i.textAlign="left";var o={"font-size":"16","font-family":"sans-serif","arc-start-cap":"butt","arc-end-cap":"butt"},a=function(e,t){"lineDash"==e?i.setLineDash(t):o[e]?o[e]=t:i[e]=t},s={config:function(){if(1===arguments.length){if("object"!==t(arguments[0]))return i[arguments[0]];for(var e in arguments[0])a(e,arguments[0][e])}else 2===arguments.length&&a(arguments[0],arguments[1]);return s},fillText:function(e,t,r,n){return i.save(),C(i,o,t,r,n||0).fillText(e,0,0),i.restore(),s},strokeText:function(e,t,r,n){return i.save(),C(i,o,t,r,n||0).strokeText(e,0,0),i.restore(),s},fullText:function(e,t,r,n){return i.save(),C(i,o,t,r,n||0),i.fillText(e,0,0),i.strokeText(e,0,0),i.restore(),s},beginPath:function(){return i.beginPath(),s},closePath:function(){return i.closePath(),s},moveTo:function(e,t){return i.moveTo(e,t),s},lineTo:function(e,t){return i.lineTo(e,t),s},arc:function(e,t,r,n,o){return i.arc(e,t,r,n,n+o,o<0),s},fill:function(){return i.fill(),s},stroke:function(){return i.stroke(),s},full:function(){return i.fill(),i.stroke(),s},save:function(){return i.save(),s},restore:function(){return i.restore(),s},quadraticCurveTo:function(e,t,r,n){return i.quadraticCurveTo(e,t,r,n),s},bezierCurveTo:function(e,t,r,n,o,a){return i.bezierCurveTo(e,t,r,n,o,a),s},clearRect:function(e,t,o,a){return i.clearRect(e||0,t||0,o||r,a||n),s},toDataURL:function(){return e.toDataURL()},drawImage:function(e,t,o,a,l,u,c,f,d){return t=t||0,o=o||0,u=u||0,c=c||0,f=f?2*f:2*r,d=d?2*d:2*n,"CANVAS"==e.nodeName?(f/=2,d/=2,a=a?2*a:2*r,l=l?2*l:2*n):(a=2*(a||e.width),l=2*(l||e.height)),i.drawImage(e,t,o,a,l,u,c,f,d),s},fillArc:function(e,t,r,n,a,l){return D(i,o,e,t,r,n,a,l).fill(),s},strokeArc:function(e,t,r,n,a,l){return D(i,o,e,t,r,n,a,l).stroke(),s},fullArc:function(e,t,r,n,a,l){return D(i,o,e,t,r,n,a,l),i.fill(),i.stroke(),s},fillCircle:function(e,t,r){return W(i,e,t,r).fill(),s},strokeCircle:function(e,t,r){return W(i,e,t,r).stroke(),s},fullCircle:function(e,t,r){return W(i,e,t,r),i.fill(),i.stroke(),s},fillRect:function(e,t,r,n){return L(i,e,t,r,n).fill(),s},strokeRect:function(e,t,r,n){return L(i,e,t,r,n).stroke(),s},fullRect:function(e,t,r,n){return L(i,e,t,r,n),i.fill(),i.stroke(),s},createLinearGradient:function(e,t,r,n){return function(e,t,r,n,i){var o=e.createLinearGradient(t,r,n,i),a={value:function(){return o},addColorStop:function(e,t){return o.addColorStop(e,t),a}};return a}(i,e,t,r,n)},createRadialGradient:function(e,t,r){return function(e,t,r,n){var i=e.createRadialGradient(t,r,0,t,r,n),o={value:function(){return i},addColorStop:function(e,t){return i.addColorStop(e,t),o}};return o}(i,e,t,r)}};return s}function F(e,t,r){window.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r,!1)}var N={blankReg:new RegExp("[\\x20\\t\\r\\n\\f]"),blanksReg:/^[\x20\t\r\n\f]{0,}$/,identifier:/^[a-zA-Z_$][0-9a-zA-Z_$]{0,}$/},U=["+","-","*","/","%","&","|","!","?",":","[","]","(",")",">","<","="],J=["+","-","*","/","%","&","|","!","?",":",">","<","=","<=",">=","==","===","!=","!=="];function q(e,t,r){t=t.trim();var n=-1,i=null,o=function(){return i=n++<t.length-1?t[n]:null},a=function(e){return t.substring(n,e+n>t.length?t.length:e+n)};o();for(var l=[];!(n>=t.length);)if(U.indexOf(i)>-1)if(["&","|","="].indexOf(i)>-1)if(["==="].indexOf(a(3))>-1)l.push(a(3)),n+=2,o();else{if(!(["&&","||","=="].indexOf(a(2))>-1))throw new Error("Illegal expression : "+t+"\nstep='analyseExpress',index="+n);l.push(a(2)),n+=1,o()}else["!=="].indexOf(a(3))>-1?(l.push(a(3)),n+=2,o()):[">=","<=","!="].indexOf(a(2))>-1?(l.push(a(2)),n+=1,o()):(l.push(i),o());else if(['"',"'"].indexOf(i)>-1){var u="",c=i;for(o();i!=c;){if(n>=t.length)throw new Error("String unclosed error : "+t+"\nstep='analyseExpress',index="+n);u+=i,o()}l.push(u+"@string"),o()}else if(/\d/.test(i)){var f="no";u=i;for(o();n<t.length;){if(/\d/.test(i))u+=i,"error"==f&&(f="yes");else{if("."!=i||"no"!=f)break;u+=i,f="error"}o()}"error"==f&&(u+="0"),l.push(+u)}else if(["null","true"].indexOf(a(4))>-1)l.push({null:null,true:!0}[a(4)]),n+=3,o();else if(["false"].indexOf(a(5))>-1)l.push({false:!1}[a(5)]),n+=4,o();else if(["undefined"].indexOf(a(9))>-1)l.push({undefined:void 0}[a(9)]),n+=8,o();else if(N.blankReg.test(i))do{o()}while(N.blankReg.test(i)&&n<t.length);else{var d=!1;if("."==i&&(d=!0,o()),!N.identifier.test(i))throw new Error("Illegal express : "+t+"\nstep='analyseExpress',index="+n);for(var h=1;n+h<=t.length&&N.identifier.test(a(h));)h+=1;if(d)l.push("["),l.push(a(h-1)+"@string"),l.push("]");else{var p=a(h-1),v=p in r?r[p]:e[p];l.push(s(v)?v+"@string":v)}n+=h-2,o()}for(var g=0,b=0;b<l.length;b++)["+","-"].indexOf(l[b])>-1&&(0==b||J.indexOf(l[g-1])>-1)?(l[g++]=+(l[b]+l[b+1]),b+=1):l[g++]=l[b];return l.length=g,l}var H=function(e){return"string"==typeof e?e.replace(/@string$/,""):e},V=function(e){return"string"==typeof e?e+"@string":e};function G(e){for(var t=0,r=0;r<e.length;r++)"!"==e[r]?e[t]=!e[++r]:e[t]=e[r],t+=1;if(1==t)return H(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"*"==e[r]?e[t-1]=H(e[t-1])*H(e[++r]):"/"==e[r]?e[t-1]=H(e[t-1])/H(e[++r]):"%"==e[r]?e[t-1]=H(e[t-1])%H(e[++r]):e[t++]=e[r];if(1==t)return H(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"+"==e[r]?e[t-1]=V(H(e[t-1])+H(e[++r])):"-"==e[r]?e[t-1]=H(e[t-1])-H(e[++r]):e[t++]=e[r];if(1==t)return H(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)">"==e[r]?e[t-1]=H(e[t-1])>H(e[++r]):"<"==e[r]?e[t-1]=H(e[t-1])<H(e[++r]):"<="==e[r]?e[t-1]=H(e[t-1])<=H(e[++r]):">="==e[r]?e[t-1]=H(e[t-1])>=H(e[++r]):e[t++]=e[r];if(1==t)return H(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"=="==e[r]?e[t-1]=H(e[t-1])==H(e[++r]):"==="==e[r]?e[t-1]=H(e[t-1])===H(e[++r]):"!="==e[r]?e[t-1]=H(e[t-1])!=H(e[++r]):"!=="==e[r]?e[t-1]=H(e[t-1])!==H(e[++r]):e[t++]=e[r];if(1==t)return H(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"&&"==e[r]?(e[t-1]=H(e[t-1])&&H(e[1+r]),r+=1):"||"==e[r]?(e[t-1]=H(e[t-1])||H(e[1+r]),r+=1):e[t++]=e[r];if(1==t)return H(e[0]);for(e.length=t,t=0,r=0;r<e.length;r++)"?"==e[r]?(e[t-1]=H(e[t-1])?H(e[r+1]):H(e[r+3]),r+=3):e[t++]=e[r];if(1==t)return H(e[0]);throw e.length=t,new Error("Unrecognized expression : ["+e.toString()+"]")}var X=function(e){for(var t=!0;t;){t=!1;for(var r=[],n=[],i=!1,o=0;o<e.length;o++)if("["==e[o]&&0!=o&&"]"!=e[o-1]){if(i){r.push("[");for(var a=0;a<n.length;a++)r.push(n[a])}else i=!0;n=[]}else if("]"==e[o]&&i){t=!0;var l=G(n),u=r[r.length-1][l];r[r.length-1]=s(u)?u+"@string":u,i=!1}else i?n.push(e[o]):r.push(e[o]);e=r}return e},Z=function(e){for(var t=[],r=[],n=0;n<e.length;n++)"["==e[n]?r=[]:"]"==e[n]?t.push(G(r)):r.push(e[n]);return t};function Y(e,t,r){var n,i=function e(t,r,n){if(r.indexOf("(")>-1){for(var i=[],o=[],a=0,l=0;l<r.length;l++)if("("==r[l])a>0&&o.push("("),a+=1;else if(")"==r[l]){if(a>1&&o.push(")"),0==(a-=1)){var u=G(e(t,o));i.push(s(u)?u+"@string":u),o=[]}}else a>0?o.push(r[l]):i.push(r[l]);r=i}return X(r)}(e,t);if("["!=i[0])n=[G(i)];else if("]"==i[i.length-1])n=Z(i);else{var o=i.lastIndexOf("]"),a=Z(i.slice(0,o+1)),l=i.slice(o+1);l.unshift(function(e,t,r){for(var n=(t[0]in r?r[t[0]]:e[t[0]]),i=1;i<t.length;i++)try{n=n[t[i]]}catch(n){throw console.error({target:e,scope:r,expressArray:t,index:i}),n}return n}(e,a,r)),n=[G(l)]}return n}var K=function(e,t,r){arguments.length<3&&(r={});var n=q(e,t,r),i=Y(e,n,r);if(i.length>1)throw new Error("Illegal expression : "+t+"\nstep='evalExpress',path="+i+",expressArray="+n);return i[0]},Q=function(e,t,r){if(t.animation&&e.value!=t.value)switch(t.type){case"number":return{type:t.type,animation:!0,value:(t.value-e.value)*r+e.value}}return t};function ee(e){this instanceof ee?(["beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDestroy","destroyed"].forEach((function(t){u(e[t])&&(e[t]=P(e[t]))})),this.$$lifecycle(e.beforeCreate),this.$$init(e),function(e){var t=function(t){var r=e.__data[t];e[t]=r,Object.defineProperty(e,t,{get:function(){return r},set:function(t){r=t,e.__observeWatcher.flag||window.setTimeout((function(){e.$$updateWithData(),e.__observeWatcher.flag=!1}),0),e.__observeWatcher.flag=!0}})};for(var r in e.__data)t(r)}(this),this.$$lifecycle("created"),c(e.el)&&this.$mount(e.el)):console.error("Clunch is a constructor and should be called with the `new` keyword")}function te(e){var t=P(e);for(var r in t.attrs)l(t.attrs[r])&&(t.attrs[r]=t.attrs[r](!1));for(var n in t.subAttrs)for(var i in t.subAttrs[n])l(t.subAttrs[n][i])&&(t.subAttrs[n][i]=t.subAttrs[n][i](!1));return t}!function(e){e.prototype.$$init=function(e){for(var t in this.__options=e,this.__data=u(e.data)?P(e.data):l(e.data)?e.data():e.data,this.__animation=!("animation"in e)||e.animation,this._isMounted=!1,this._isDestroyed=!1,e.methods)g(t),this[t]=u(e.methods[t])?P(e.methods[t]):e.methods[t];for(var r in this.__data)g(r),this[r]=this.__data[r];this.__renderFlag=!!e.render||!!e.template,e.render?this.__renderAOP=I(e.render,this.__defineSerirs):e.template&&(this.__renderOptions=this.$$templateCompiler(e.template),this.__renderAOP=I(this.__renderOptions,this.__defineSerirs)),this.__observeWatcher={flag:!1,stop:null,time:"time"in e?e.time:500},this.__observeResize={help:!0,flag:!1,observer:null},this.__painter=null,this._width=0,this._height=0,this._min=0,this._max=0,this.__regionManager=function(e){var t={},r=[0,0,0],n="r",i=document.createElement("canvas"),o=B(i,1,1),a=1,s=1;return{erase:function(){o.config({fillStyle:"rgb(255,255,255)"}).fillRect(0,0,a,s)},updateSize:function(e,t){a=e,s=t,o=B(i,e,t)},painter:function(e){return null==t[e]&&(t[e]={r:function(){return r[0]+=1,n="g","rgb("+r[0]+","+r[1]+","+r[2]+")"},g:function(){return r[1]+=1,n="b","rgb("+r[0]+","+r[1]+","+r[2]+")"},b:function(){return r[2]+=1,n="r","rgb("+r[0]+","+r[1]+","+r[2]+")"}}[n]()),o.config({fillStyle:t[e],strokeStyle:t[e]}),o},getRegion:function(r){var n=function(e,t){var r=e.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top}}(e.__canvas,r);n.x-=m(e.__canvas,"border-left-width").replace("px",""),n.y-=m(e.__canvas,"border-top-width").replace("px","");var o=i.getContext("2d").getImageData(2*n.x-.5,2*n.y-.5,1,1).data;for(var a in t)if("rgb("+o[0]+","+o[1]+","+o[2]+")"==t[a])return[a,n.x,n.y];return[null,n.x,n.y]}}}(this)}}(ee),function(e){e.prototype.$$lifecycle=function(e){return l(e)?e():["created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDraw","drawed","beforeDestroy","destroyed"].indexOf(e)>-1&&l(this.__options[e])&&this.__options[e].call(this),this}}(ee),function(e){e.prototype.$$updateView=function(){var e=this;if(this._isMounted&&this.__painter){this.$$lifecycle("beforeDraw"),this.__regionManager.erase(),this.__painter.clearRect();for(var t=function(t){var r={_subTexts:e.__renderSeries[t].subText,_subAttr:[]};for(var n in e.__renderSeries[t].attr)r[n]=e.__renderSeries[t].attr[n].value;for(var i=0;i<e.__renderSeries[t].subAttr.length;i++){var o={series:e.__renderSeries[t].subAttr[i].name,attr:{}};for(var a in e.__renderSeries[t].subAttr[i].attr)o.attr[a]=e.__renderSeries[t].subAttr[i].attr[a].value;r._subAttr.push(o)}e.__defineSerirs[e.__renderSeries[t].name].link(e.__painter,r);var s=e.__defineSerirs[e.__renderSeries[t].name].region;if(s){var l=function(n){s[n]((function(r){return r=r||"default",e.__regionManager.painter(t+"@"+n+"::"+r)}),r)};for(var u in s)l(u)}},r=0;r<this.__renderSeries.length;r++)t(r);this.$$lifecycle("drawed")}},e.prototype.$$updateWithSize=function(){var e=this;this.$$lifecycle("beforeResize");var t=this.__el.clientWidth-(m(this.__el,"padding-left")+"").replace("px","")-(m(this.__el,"padding-right")+"").replace("px",""),r=this.__el.clientHeight-(m(this.__el,"padding-top")+"").replace("px","")-(m(this.__el,"padding-bottom")+"").replace("px","");this.__painter=B(this.__canvas,t,r),this._width=t,this._height=r,this._max=t>r?t:r,this._min=t<r?t:r,this.__regionManager.updateSize(t,r),l(this.__observeWatcher.stop)&&(this.__observeWatcher.stop(),this.__observeWatcher.stop=null),setTimeout((function(){e.$$updateWithData(!0),e.$$lifecycle("resized")}),10)},e.prototype.$$updateWithData=function(e){var t=this;l(this.__observeWatcher.stop)?(this.__observeWatcher.stop(),this.__observeWatcher.stop=null):this.$$lifecycle("beforeUpdate"),this.__events={click:{},dblclick:{},mousemove:{},mousedown:{},mouseup:{}};var r=[],n=this;if(function e(t,i,o,a,s){for(var l=[],c=0;c<t.length;c++){for(var f in i)f in t[c].scope||(t[c].scope[f]=i[f]);var d=void 0;if(d="$id"in t[c]?t[c].$id.isBind?K(n,t[c].$id.express,t[c].scope):t[c].$id.express:a+t[c].index,s||!("c-for"in t[c])){if("c-if"in t[c]&&!K(n,t[c]["c-if"],t[c].scope));else if(e(t[c].children,t[c].scope,!1,d+"-",!1),"group"!=t[c].name){var h={name:t[c].name,attr:{},subAttr:[],subText:t[c].text,id:d};for(var p in t[c].attrs){var v=t[c].attrs[p];h.attr[p]={animation:v.animation,type:v.type,value:v.value.isBind?K(n,v.value.express,t[c].scope):v.value.express}}h.subAttr=e(t[c].subAttrs,t[c].scope,!0,d+"-",!1);for(var g=0;g<t[c].events.length;g++){var b=t[c].events[g];n.__events[b.event][r.length+"@"+b.region]=n[b.method]}o?l.push(h):r.push(h)}t[c].scope={}}else{var y=t[c]["c-for"],m=K(n,y.data,t[c].scope);for(var _ in m){t[c].scope[y.value]=m[_],null!=y.key&&(t[c].scope[y.key]=u(m)?+_:_);var x=e([t[c]],{},o,d+"for"+_+"-",!0);if(o)for(var w=0;w<x.length;w++)l.push(x[w])}}}return l}(this.__renderAOP,{},!1,"",!1),!this.__renderSeries||e||!this.__animation)return this.__renderSeries=r,this.$$updateView(),void this.$$lifecycle("updated");var i=function(e,t){for(var r={},n=0;n<e.length;n++){for(var i={},o=0;o<e[n].subAttr.length;o++)i[e[n].subAttr[o].id]=o;r[e[n].id]={index:n,subLinkIdToIndex:i}}return function(n){if(1==n)return t;for(var i=[],o=0;o<t.length;o++)if(t[o].id in r){var a=e[r[t[o].id].index],s={};for(var l in a.attr)s[l]=Q(a.attr[l],t[o].attr[l],n);for(var u=[],c=0;c<t[o].subAttr.length;c++)if(t[o].subAttr[c].id in r[t[o].id].subLinkIdToIndex){var f=a.subAttr[r[t[o].id].subLinkIdToIndex[t[o].subAttr[c].id]],d={};for(var h in f.attr)d[h]=Q(f.attr[h],t[o].subAttr[c].attr[h],n);u.push({id:f.id,name:f.name,subText:f.subText,subAttr:[],attr:d})}else u.push(t[o].subAttr[c]);i.push({id:t[o].id,name:t[o].name,subText:t[o].subText,subAttr:u,attr:s})}return i}}(this.__renderSeries,r);this.__observeWatcher.stop=h((function(e){t.__renderSeries=i(e),t.$$updateView()}),this.__observeWatcher.time,(function(e){1==e&&(t.__observeWatcher.stop=null,t.$$lifecycle("updated"))}))}}(ee),ee.prototype.__defineSerirs={},function(e){e.series=function(t,r){if(1==arguments.length)for(var n in t)e.series(n,t[n]);else l(e.prototype.__defineSerirs[t])&&console.warn("The series["+t+"] has been registered!"),e.prototype.__defineSerirs[t]=te(r);return e}}(ee),ee.prototype.$mount=function(e){var t=this;if(this._isDestroyed)console.warn("The clunch has been destroyed!");else if(this._isMounted)console.warn("The clunch is already mounted!");else{if(c(e))return this.$$lifecycle("beforeMount"),this.__renderFlag||(this.__renderOptions=this.$$templateCompiler(e.innerHTML),this.__renderAOP=I(this.__renderOptions,this.__defineSerirs)),this.__el=e,e.innerHTML="<canvas>ÈùûÂ∏∏Êä±Ê≠âÔºåÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅcanvas!</canvas>",this.__canvas=e.getElementsByTagName("canvas")[0],function(e){try{e.__observeResize.observer=new ResizeObserver((function(){if(e.__observeResize.flag)e.__observeResize.help=!1;else{e.__observeResize.flag=!0;var t=setInterval((function(){e.__observeResize.help&&(window.clearInterval(t),e.__observeResize.flag=!1,e.$$updateWithSize()),e.__observeResize.help=!0}),200)}})),e.__observeResize.observer.observe(e.__el)}catch(t){e.$$updateWithSize(),console.error("ResizeObserver undefined!")}}(this),this.$$updateWithData(),["click","dblclick","mousemove","mousedown","mouseup"].forEach((function(e){F(t.__canvas,e,(function(r){var n=t.__regionManager.getRegion(r);if(null!=n[0]){var i=n[0].split("::"),o=t.__events[e][i[0]];if(l(o)){var a=i[0].split("@"),s=t.__renderSeries[a[0]],u={};for(var c in s.attr)u[c]=s.attr[c].value;o.call(t,{id:s.id,series:s.name,region:a[1],subRegion:i[1],attr:u,left:n[1],top:n[2]})}}}))})),this.$bind=function(e,t){var r=this;return F(this.__canvas,e,(function(e){var n,i=r.__regionManager.getRegion(e);if(null!=i[0]){var o=i[0].split("::"),a=o[0].split("@"),s=r.__renderSeries[a[0]],l={};for(var u in s.attr)l[u]=s.attr[u].value;n={id:s.id,series:s.name,region:a[1],subRegion:o[1],attr:l}}else n={series:null,region:null,subRegion:null,attr:{}};n.left=i[1],n.top=i[2],t.call(r,n)})),this},this._isMounted=!0,this.$$lifecycle("mounted"),this;console.warn("Mount node does not exist!")}},ee.prototype.$unmount=function(){if(this._isDestroyed)console.warn("The object has been destroyed!");else{if(this._isMounted)return this.$$lifecycle("beforeUnmount"),this.__observeResize.observer.disconnect(),this.__painter=null,this.__canvas=null,this._isMounted=!1,this.$$lifecycle("unmounted"),this;console.warn("Object not mounted!")}},ee.prototype.$destroy=function(){if(!this._isDestroyed)return this._isMounted&&this.$unmount(),this.$$lifecycle("beforeDestroy"),delete this.__regionManager,this.__observeResize={},this.__observeWatcher={},this._isDestroyed=!0,this.$$lifecycle("destroyed"),this;console.warn("The object has been destroyed!")},ee.series("group",[function(){return{attrs:{}}}]);var re=["number","json","string","color",function(e,t,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":e(1)(!0),dash:t([]),type:r("fill"),cx:e()(!0),cy:e()(!0),radius1:e()(!0),radius2:e()(!0),begin:e(0)(!0),deg:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Arc"](t.cx,t.cy,t.radius1,t.radius2,t.begin,t.deg)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var r=t.type;if(!l(e[r+"Arc"]))throw new Error("Type error!"+JSON.stringify({series:"arc",type:r}));e[r+"Arc"](t.cx,t.cy,t.radius1,t.radius2,t.begin,t.deg)}}}],ne=["number","json","string","color",function(e,t,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":e(1),dash:t([]),type:r("fill"),cx:e()(!0),cy:e()(!0),radius:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Circle"](t.cx,t.cy,t.radius)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var r=t.type;if(!l(e[r+"Circle"]))throw new Error("Type error!"+JSON.stringify({series:"circle",type:r}));e[r+"Circle"](t.cx,t.cy,t.radius)}}}],ie=["number","string","boolean","json","color",function(e,t,r,n,i){return{attrs:{"fill-color":i("black"),"stroke-color":i("black"),"line-width":e(1)(!0),dash:n([]),type:t("stroke"),close:r(!1)},subAttrs:{"move-to":{x:e()(!0),y:e()(!0)},"line-to":{x:e()(!0),y:e()(!0)},"bezier-to":{x:e()(!0),y:e()(!0),cp1x:e()(!0),cp1y:e()(!0),cp2x:e(null)(!0),cp2y:e(null)(!0)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash}),e.beginPath();for(var r=0;r<t._subAttr.length;r++)"move-to"==t._subAttr[r].series?e.moveTo(t._subAttr[r].attr.x,t._subAttr[r].attr.y):"line-to"==t._subAttr[r].series?e.lineTo(t._subAttr[r].attr.x,t._subAttr[r].attr.y):"bezier-to"==t._subAttr[r].series&&(null==t._subAttr[r].attr.cp2x&&null==t._subAttr[r].attr.cp2y?e.quadraticCurveTo(t._subAttr[r].attr.cp1x,t._subAttr[r].attr.cp1y,t._subAttr[r].attr.x,t._subAttr[r].attr.y):e.bezierCurveTo(t._subAttr[r].attr.cp1x,t._subAttr[r].attr.cp1y,t._subAttr[r].attr.cp2x,t._subAttr[r].attr.cp2y,t._subAttr[r].attr.x,t._subAttr[r].attr.y));t.close&&e.closePath();var n=t.type;if(!l(e[n]))throw new Error("Type error!"+JSON.stringify({series:"path",type:n}));e[n]()}}}],oe=["number","json","string","color","$rotate",function(e,t,n,i,o){return{attrs:{begin:e(0),deg:e(2*Math.PI),color:i("black"),cx:e(),cy:e(),radius:e(),"mark-direction":n("outer"),"value-position":n("mark"),value:t()},link:function(e,t){var n=t.value;e.config({lineWidth:1,fillStyle:t.color,strokeStyle:t.color,"font-size":"12",textAlign:"center",textBaseline:"middle",lineDash:[]}),e.beginPath().arc(t.cx,t.cy,t.radius,t.begin,t.deg).stroke();for(var i="mark"==t["value-position"]?n.length:n.length+1,a=t.deg/(i-1),s=0;s<i;s++){var l,u;(l=(u=e.beginPath()).moveTo.apply(u,r(o(t.cx,t.cy,t.begin+s*a,t.cx+t.radius,t.cy)))).lineTo.apply(l,r(o(t.cx,t.cy,t.begin+s*a,t.cx+t.radius+5*("inner"==t["mark-direction"]?-1:1),t.cy))).stroke()}for(var c=0;c<n.length;c++){var f=t.begin+a*(c+("mark"==t["value-position"]?0:.5)),d=f%(2*Math.PI);e.fillText.apply(e,[n[c]].concat(r(o(t.cx,t.cy,f,t.cx+t.radius+15*("inner"==t["mark-direction"]?-1:1),t.cy)),[f+(d>0&&d<Math.PI||d>-2*Math.PI&&d<-Math.PI?.5*-Math.PI:.5*Math.PI)]))}}}}],ae=["number","json","string","color",function(e,t,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":e(1),dash:t([]),type:r("fill"),align:r("left"),baseline:r("top"),x:e()(!0),y:e()(!0),width:e()(!0),height:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Rect"](t.x,t.y,t.width,t.height)}},link:function(e,t){"center"==t.align?t.x-=.5*t.width:"right"==t.align&&(t.x-=t.width),"middle"==t.baseline?t.y-=.5*t.height:"bottom"==t.baseline&&(t.y-=t.height),e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var r=t.type;if(!l(e[r+"Rect"]))throw new Error("Type error!"+JSON.stringify({series:"rect",type:r}));e[r+"Rect"](t.x,t.y,t.width,t.height)}}}],se=["number","json","string","color","$dot",function(e,t,n,i,o){return{attrs:{x:e(),y:e(),direction:n("LR"),length:e(),"mark-direction":n("right"),"value-position":n("mark"),color:i("black"),value:t()},link:function(e,t){var n,i,a=t.value;if(e.config({lineWidth:1,fillStyle:t.color,strokeStyle:t.color,"font-size":"12",textAlign:"LR"==t.direction||"RL"==t.direction?"center":"BT"==t.direction&&"right"==t["mark-direction"]||"TB"==t.direction&&"left"==t["mark-direction"]?"left":"right",lineDash:[],textBaseline:"middle"}),"LR"==t.direction)n={x:t.x+t.length,y:t.y},i="right"==t["mark-direction"]?[0,1]:[0,-1];else if("RL"==t.direction)n={x:t.x-t.length,y:t.y},i="right"==t["mark-direction"]?[0,-1]:[0,1];else if("TB"==t.direction)n={x:t.x,y:t.y+t.length},i="right"==t["mark-direction"]?[-1,0]:[1,0];else{if("BT"!=t.direction)throw new Error("Type error!"+JSON.stringify({series:"ruler",type:type}));n={x:t.x,y:t.y-t.length},i="right"==t["mark-direction"]?[1,0]:[-1,0]}e.beginPath().moveTo(t.x,t.y).lineTo(n.x,n.y).stroke();for(var s="mark"==t["value-position"]?a.length:a.length+1,l=t.length/(s-1),u=o({d:[n.x-t.x,n.y-t.y],p:[t.x,t.y]}),c=0;c<s;c++){var f,d=u.value();(f=e.beginPath()).moveTo.apply(f,r(d)).lineTo(d[0]+5*i[0],d[1]+5*i[1]).stroke(),u.move(l)}u=o({d:[n.x-t.x,n.y-t.y],p:[t.x,t.y]}),"between"==t["value-position"]&&u.move(.5*l);for(var h=0;h<a.length;h++){var p=u.value();e.fillText(a[h],p[0]+15*i[0],p[1]+15*i[1]),u.move(l)}}}}],le=["number","string","json","color",function(e,t,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"font-size":e(16)(!0),"font-family":t("sans-serif"),"line-width":e(1),align:t("left"),baseline:t("middle"),type:t("fill"),content:t(null),x:e()(!0),y:e()(!0),deg:e(0)(!0),dash:r([])},region:{default:function(e,t){e().config({"font-size":t["font-size"],"font-family":t["font-family"],lineWidth:t["line-width"],textAlign:t.align,textBaseline:t.baseline,lineDash:t.dash})[t.type+"Text"]((t.content+"").trim(),t.x,t.y,t.deg)}},link:function(e,t){null==t.content&&(t.content=t._subTexts.join("\n")),e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],"font-size":t["font-size"],"font-family":t["font-family"],lineWidth:t["line-width"],textAlign:t.align,textBaseline:t.baseline,lineDash:t.dash});var r=t.type;if(!l(e[r+"Text"]))throw new Error("Type error!"+JSON.stringify({series:"text",type:r}));e[r+"Text"]((t.content+"").trim(),t.x,t.y,t.deg)}}}];ee.prototype.$$templateCompiler=function(e){throw new Error("Sorry, setting template property is not supported in the current environment : \n"+e)},ee.series({arc:re,circle:ne,path:ie,"polar-ruler":oe,rect:ae,ruler:se,text:le}),"object"===t(e)&&"object"===t(e.exports)?e.exports=ee:window.Clunch=ee}()}).call(this,r(6)(e))},function(e,t,r){e.exports=r(7)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),o=r(1),a=r.n(o),s={insert:"head",singleton:!1},l=(i()(a.a,s),a.a.locals,r(2)),u=r.n(l),c={insert:"head",singleton:!1},f=(i()(u.a,c),u.a.locals,r(4)),d=r.n(f),h=function(e){var t=new Date,r=t.getFullYear(),n="-"+(t.getMonth()- -1)+"-"+t.getDate();return function(e){var t=sessionStorage.getItem(e);if(t)return new Promise((function(e){e(JSON.parse(t))}));var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("GET",e,!0);var n=new Promise((function(t){r.onload=function(){sessionStorage.setItem(e,JSON.stringify(r.response)),t(r.response)}}));return r.send(),n}("https://api.npmjs.org/downloads/range/"+(r-1)+n+":"+r+n+"/"+e)},p=function(e,t){for(var r=[],n=e.length-1;n>=t-1;n-=t){for(var i=0,o=0;o<t;o++)i+=e[n-o].downloads;r.unshift(i)}return r};window.clunch=new d.a({el:document.getElementById("root"),render:[{name:"text",attrs:{"c-if":"loadSize!=-1",":x":"_width*0.5",":y":"_height*0.5",align:"center",":font-size":"loadSize","fill-color":"white"},children:["Loading......"]},{name:"group",attrs:{"c-if":"loadSize==-1"},children:[{name:"ruler",attrs:{color:"white",x:"150",":y":"_height-50",":length":"_height-100",":value":"yRuler.ruler",direction:"BT","mark-direction":"left"},children:[]},{name:"path",attrs:{"c-for":"item in pkgs",":stroke-color":"item.color"},children:[{name:"move-to",attrs:{x:"150",":y":"_height-50-(item.value[0]-yRuler.min)/(yRuler.max-yRuler.min)*(_height-100)"},children:[]},{name:"line-to",attrs:{":x":"150+index*xDist",":y":"_height-50-(dot-yRuler.min)/(yRuler.max-yRuler.min)*(_height-100)","c-for":"(dot,index) in item.value"},children:[]}]},{name:"group",attrs:{"c-for":"item in pkgs"},children:[{name:"circle",attrs:{radius:"2","fill-color":"white",":cx":"150+index*xDist",":cy":"_height-50-(dot-yRuler.min)/(yRuler.max-yRuler.min)*(_height-100)","c-for":"(dot,index) in item.value"},children:[]}]},{name:"group",attrs:{"c-for":"(item,index) in pkgs"},children:[{name:"rect",attrs:{x:"200",":y":"index*40 + 160",baseline:"middle",width:"100",height:"30",":fill-color":"item.color"},children:[]},{name:"rect",attrs:{x:"300",":y":"index*40 + 160",baseline:"middle",width:"30",height:"30","fill-color":"white",":$id":'item.package+":rect"'},children:[]},{name:"text",attrs:{x:"250",":y":"index*40 + 160",align:"center",":content":"item.package","fill-color":"white"},children:[]},{name:"text",attrs:{x:"315",":y":"index*40 + 160",align:"center","fill-color":"gray",":$id":'item.package+":text"'},children:["X"]}]}]},{name:"text",attrs:{x:"200",y:"50","font-size":"40","fill-color":"red"},children:["npm-downloads"]}],time:2e3,data:function(){return{loadSize:60,pkgs:[],yRuler:[],xDist:0}},mounted:["$getRandomColors",function(e){return function(){for(var t=this,r=function(e){for(var t=/\?([^&=]+=[^&=]+)(&[^&=]+=[^&=]+)*/.test(e)?e.split("?")[1].split("&"):[],r={},n=0;n<t.length;n++){var i=t[n].split("=");r[i[0]]=i[1]}if(!r.packages||!/^\d+$/.test(r.interval)){var o=r.interval;/^\d+$/.test(o)||(o=7);var a=r.packages||"clunch";window.location.href="./index.html?interval="+o+"&packages="+a}return{packages:r.packages,interval:+(+r.interval>=356?364:+r.interval)}}(window.location.href),n=r.packages.split(","),i=[],o=0;o<n.length;o++)i.push(h(n[o]));var a=setInterval((function(){12==t.loadSize?t.loadSize=60:t.loadSize=12}),2e3);Promise.all(i).then((function(n){for(var i=[],o=e(n.length),s=0;s<n.length;s++)i.push(JSON.parse(n[s])),i[i.length-1].value=p(i[i.length-1].downloads,r.interval),i[i.length-1].color=o[s];for(var l=i[0].value[0],u=i[0].value[0],c=0;c<i.length;c++)for(var f=0;f<i[c].value.length;f++)i[c].value[f]<l&&(l=i[c].value[f]),i[c].value[f]>u&&(u=i[c].value[f]);t.yRuler=function(e,t,r){var n,i,o=(e-t)/r;i=(i=o/(n=Math.pow(10,Math.trunc(Math.log(o)/Math.log(10)))==o?Math.pow(10,Math.trunc(Math.log(o)/Math.log(10))):Math.pow(10,Math.trunc(Math.log(o)/Math.log(10))+1)))>=0&&i<=.1?.1:i>=.100001&&i<=.2?.2:i>=.200001&&i<=.25?.25:i>=.250001&&i<=.5?.5:1,i*=n,Math.trunc(t/i)!=t/i&&(t=t<0?-1*Math.ceil(Math.abs(t/i))*i:Math.trunc(Math.abs(t/i))*i);var a=((e=Math.trunc(e/i+1)*i)-t)/i;if(a<r){var s=r-a;a=r,e+=s%2==0?i*Math.trunc(s/2):i*Math.trunc(s/2+1),t-=i*Math.trunc(s/2)}for(var l={min:t,max:e,deep:i,num:r=a,ruler:[]},u=0;u<=r;u++)l.ruler.push(t+i*u);return l}(u>100?u:100,l,10),t.pkgs=i,t.xDist=(t._width-200)/(t.pkgs[0].value.length-1),clearInterval(a),t.loadSize=-1}))}}],resized:function(){try{this.xDist=(this._width-200)/(this.pkgs[0].value.length-1)}catch(e){}}}).$bind("click",(function(e){if("id"in e&&/(rect|text)$/.test(e.id)){var t=e.id.replace(/(\:.*)$/,"");window.location.href=window.location.href.replace(t,"").replace("=,","=").replace(/\,$/,"").replace(",,",",")}})).$bind("mousemove",(function(e){"id"in e&&/(rect|text)$/.test(e.id)?this.__el.style.cursor="pointer":this.__el.style.cursor="default"}))}]);