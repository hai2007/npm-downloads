!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var f=s(c),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:c,updater:v(d,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,f=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,g=0;function v(e,t){var n,r,i;if(t.singleton){var o=g++;n=p||(p=u(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=u(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=l(e,t),u=0;u<n.length;u++){var c=s(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"/*!\n * 👁️ - 统一不同浏览器的基础样式\n * https://github.com/hai2007/style.css/blob/master/normalize.css\n *\n * author hai2007 < https://hai2007.gitee.io/sweethome >\n *\n * Copyright (c) 2020-present hai2007 走一步，再走一步。\n * Released under the MIT license\n */\n\nhtml {\n    /* 防止iPhone在坚屏转向横屏时放大文字 */\n    -ms-text-size-adjust: 100%;\n    -webkit-text-size-adjust: 100%;\n    /* 统一行高 */\n    line-height: 1.15;\n}\n\nbutton,\ninput {\n    /* 兼容部分手机下border不显示问题 */\n    border: 1px solid #b2b2bd;\n}\n\narticle,\nfooter,\nheader,\nnav,\nsection {\n    /* 修正旧浏览器未定义的块级元素 */\n    display: block;\n}\n\ncanvas,\nsvg {\n    /* 修正旧浏览器未定义的行内块元素 */\n    display: inline-block;\n}\n\n* {\n    /* 统一不同浏览器盒子尺寸计算方法 */\n    box-sizing: border-box;\n}\n\n::-ms-clear,\n::-ms-reveal {\n    /* 去掉IE浏览器输入框叉叉和眼睛 */\n    display: none;\n}\n\nimg {\n    /* 针对火狐浏览器在img标签没有src时候的差异修复 */\n    display: inline-block;\n}\n\nhtml {\n    /* 设置默认字体为统一的安全字体 */\n    font-family: sans-serif;\n}\n\na {\n    /* 默认去掉下划线 */\n    text-decoration: none;\n}\n\nli {\n    /* 去掉前置索引 */\n    list-style-type: none;\n}\n\nul,\nol,\nli,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    /* 去掉不喜欢的间距 */\n    -webkit-margin-before: 0;\n    -webkit-margin-after: 0;\n    -webkit-padding-start: 0;\n    /* 去掉不喜欢的间距，针对火狐浏览器等 */\n    margin-block-end: 0;\n    margin-block-start: 0;\n    padding-inline-start: 0;\n    /* 修改IE和其它浏览器不一致问题 */\n    padding: 0;\n    margin: 0;\n}\n\nbody {\n    /* 去掉默认的8px */\n    margin: 0;\n}\n\ntable {\n    /* 设置默认表格边框合并为一个单一的边框 */\n    border-collapse: collapse;\n}\n",""])},function(e,t,n){t=e.exports=n(4)(!1);var r=n(7)(n(8));t.push([e.i,".view>.canvas {\n    width: 100vw;\n    height: 100vh;\n    position: fixed;\n    left: 0;\n    top: 0;\n}\n\nbody {\n    background-color: #332929;\n    background-image: url("+r+");\n}\n\n.input-add {\n    position: fixed;\n    left: 200px;\n    top: 80px;\n}\n\n.input-add {\n    font-size: 0;\n}\n\n.input-add>* {\n    vertical-align: top;\n    font-size: 16px;\n}\n\n.input-add>input {\n    height: 40px;\n    display: inline-block;\n    width: 220px;\n    background-color: #c5c0c0;\n    padding: 10px;\n    color: #fff;\n}\n\n.input-add>span {\n    width: 40px;\n    height: 40px;\n    line-height: 40px;\n    display: inline-block;\n    color: #000;\n    font-size: 30px;\n    background-color: white;\n    text-align: center;\n    cursor: pointer;\n}\n\n.fork {\n    position: fixed;\n    transform: rotate(45deg);\n    line-height: 1.6em;\n    transform-origin: 150px 23px;\n    text-align: center;\n    font-family: sans-serif;\n    display: inline-block;\n    bottom: 53px;\n    left: -91px;\n    width: 300px;\n    background-color: #ff0000;\n    outline: 4px solid #ff0000;\n    border: 2px dashed #ffffff;\n    color: #ffffff;\n}\n",""])},function(e,t,n){(function(e){
/*!
 * clunch.js - 🎨 The Progressive JavaScript Interactive Picture Framework.
 * git+https://github.com/hai2007/clunch.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 1.6.0
 *
 * Copyright (c) 2020-2021 hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Mon May 24 2021 09:43:31 GMT+0800 (GMT+08:00)
 */
!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=Object.prototype.toString;function o(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i.call(e)}var a=function(e,n){return null!==n&&"object"===t(n)&&e.indexOf(n.nodeType)>-1&&!function(e){if(null===e||"object"!==t(e)||"[object Object]"!=o(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}(n)},s=function(e){return"number"==typeof e||null!==e&&"object"===t(e)&&"[object Number]"===o(e)},l=function(e){var n=t(e);return"string"===n||"object"===n&&null!=e&&!Array.isArray(e)&&"[object String]"===o(e)},u=function(e){if(!function(e){var n=t(e);return null!=e&&("object"===n||"function"===n)}(e))return!1;var n=o(e);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object Proxy]"===n},c=function(e){return Array.isArray(e)},f=[],d=null;function h(e,t,n){arguments.length<2&&(t=400);var r={timer:function(e,t,n){if(!e)throw new Error("Tick is required!");var i=(new Date).valueOf()+"_"+(1e3*Math.random()).toFixed(0);return f.push({id:i,createTime:new Date,tick:e,duration:t,callback:n}),r.start(),i},start:function(){d||(d=setInterval(r.tick,13))},tick:function(){var e,t,n,i,o,a,s,l=f;for((f=[]).length=0,t=0;t<l.length;t++)e=(o=l[t]).createTime,n=o.tick,a=o.duration,i=o.callback,n(s=(s=(+new Date-e)/a)>1?1:s),s<1&&o.id?f.push(o):i&&i(s);f.length<=0&&r.stop()},stop:function(){d&&(clearInterval(d),d=null)}},i=r.timer((function(t){e(t)}),t,n);return function(){var e;for(e in f)if(f[e].id==i)return void(f[e].id=void 0)}}var p=function(e,t){for(var n in t)try{e[n]=t[n]}catch(e){throw new Error("Illegal property value！")}return e},g="[\\x20\\t\\r\\n\\f]",v=function(e){/^[_$]/.test(e)&&console.warn("The beginning of _ or $ is not allowed："+e)};function y(e){var t,n,r;e=function(e,t){for(var n in t)try{e[n]=t[n]}catch(e){throw new Error("Illegal property value！")}return e}({u:.5},e);var i=function(e){if(t){var i=(e-n)/(r-n),o=i*i;return(i*o*t[0]+o*t[1]+i*t[2]+t[3])*(r-n)}throw new Error("You shoud first set the position!")};return i.setP=function(o,a,s,l,u,c){if(!(o<s))throw new Error("The point x-position should be increamented!");n=o,r=s;var f=e.u*u,d=e.u*c;return t=[2*(a/=s-o)-2*(l/=s-o)+f+d,3*l-3*a-2*f-d,f,a],i},i}function b(e){var t,n;e=p({t:0},e);var r=function(e){if(t){for(n=-1;n+1<t.x.length&&(e>t.x[n+1]||-1==n&&e>=t.x[n+1]);)n+=1;if(-1==n||n>=t.h.length)throw new Error("Coordinate crossing!");return t.h[n](e)}throw new Error("You shoud first set the position!")};return r.setT=function(t){if("number"!=typeof t)throw new Error("Expecting a figure!");return e.t=t,r},r.setP=function(n){t={x:[],h:[]};var i,o,a=(n[1][1]-n[0][1])/(n[1][0]-n[0][0]);for(t.x[0]=n[0][0],i=1;i<n.length;i++){if(n[i][0]<=n[i-1][0])throw new Error("The point position should be increamented!");t.x[i]=n[i][0],o=i<n.length-1?(n[i+1][1]-n[i-1][1])/(n[i+1][0]-n[i-1][0]):(n[i][1]-n[i-1][1])/(n[i][0]-n[i-1][0]),t.h[i-1]=y({u:.5*(1-e.t)}).setP(n[i-1][0],n[i-1][1],n[i][0],n[i][1],a,o),a=o}return r},r}function m(e,t){var n=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle;return l(t)?n.getPropertyValue(t):n}var _=function(e){var t=document.getElementsByTagName("head")[0];t.style.color=e;var n=m(t,"color").replace(/^rgba?\(([^)]+)\)$/,"$1").split(new RegExp("\\,"+g));return[+n[0],+n[1],+n[2],null==n[3]?1:+n[3]]},x=function(e,t){t&&t>=0&&t<=1||(t=1);for(var n=[],r=1;r<=e;r++)n.push("rgba("+(230*Math.random()+20).toFixed(0)+","+(230*Math.random()+20).toFixed(0)+","+(230*Math.random()+20).toFixed(0)+","+t+")");return n},w=function(e,t){t&&t>=0&&t<=1||(t=1);var n=["rgba(84,112,198,"+t+")","rgba(145,204,117,"+t+")","rgba(250,200,88,"+t+")","rgba(238,102,102,"+t+")","rgba(115,192,222,"+t+")","rgba(59,162,114,"+t+")","rgba(252,132,82,"+t+")","rgba(154,96,180,"+t+")","rgba(234,124,204,"+t+")"],r=[];if(e<=n.length)return n;if(e%n.length==0)for(var i=0;i<e/n.length;i++)r=r.concat(n);else{for(var o=1;o<e/n.length;o++)r=r.concat(n);if(e%n.length==1)r=r.concat(n[4]);else for(var a=0;a<e%n.length;a++)r=r.concat(n[a])}return r};function k(e){var t,n,r=e||{},i=function(e){var i=function(e){var t,n,i={},o=r.root(e);t=n=r.id(o),i[t]={data:o,pid:null,id:t,children:[]};var a=1;return function n(o,s){var l,u=r.child(o,e);for(a+=u?u.length:0,l=0;u&&l<u.length;l++)t=r.id(u[l]),i[s].children.push(t),i[t]={data:u[l],pid:s,id:t,children:[]},n(u[l],t)}(o,t),{value:[n,i],num:a}}(e);return t=i.value[1],n=i.value[0],1==i.num?(t[n].left=.5,t[n].top=.5,{deep:1,node:t,root:n,size:1}):function(){var e=[],r=0,i=0;return function n(o,a){var s;for(a>i&&(i=a),s=0;s<o.children.length;s++)n(t[o.children[s]],a+1);(t[o.id].left=a+.5,0==s)?(null==e[a]&&(e[a]=-.5),null==e[a-1]&&(e[a-1]=-.5),t[o.id].top=e[a]+1,e[a]+1+.5*(t[o.pid].children.length-1)-1<e[a-1]&&(t[o.id].top=e[a-1]+1-.5*(t[o.pid].children.length-1))):t[o.id].top=.5*(t[o.children[0]].top+t[o.children[s-1]].top);if(t[o.id].top<=e[a]){var l=e[a]+1-t[o.id].top;!function n(r,i){var o;for(t[r].top+=l,e[i]<t[r].top&&(e[i]=t[r].top),o=0;o<t[r].children.length;o++)n(t[r].children[o],i+1)}(o.id,a)}e[a]=t[o.id].top,t[o.id].top+.5>r&&(r=t[o.id].top+.5)}(t[n],0),{node:t,root:n,size:r,deep:i+1}}()};return i.root=function(e){return r.root=e,i},i.child=function(e){return r.child=e,i},i.id=function(e){return r.id=e,i},i}var $=function(e,t,n,r,i){var o=Math.cos(n),a=Math.sin(n);return[+((r-e)*o-(i-t)*a+e).toFixed(7),+((r-e)*a+(i-t)*o+t).toFixed(7)]},S=function(e,t,n,r,i){var o=Math.sqrt(e*e+t*t);return[+(e*n/o+r).toFixed(7),+(t*n/o+i).toFixed(7)]},M=function(e,t,n,r,i){return[+(n*(r-e)+e).toFixed(7),+(n*(i-t)+t).toFixed(7)]},A=function(e){e=p({d:[1,1],c:[0,0],p:[0,0]},e);var t={rotate:function(n){var r=e.d[0]+e.p[0],i=e.d[1]+e.p[1],o=$(e.p[0],e.p[1],n,r,i);return e.d=[o[0]-e.p[0],o[1]-e.p[1]],t},move:function(n){return e.p=S(e.d[0],e.d[1],n,e.p[0],e.p[1]),t},scale:function(n){return e.p=M(e.c[0],e.c[1],n,e.p[0],e.p[1]),t},value:function(){return e.p}};return t};function T(e){e=p({"begin-deg":0,deg:2*Math.PI},e);var t=k().root(e.root).child(e.child).id(e.id),n=function n(r){var i=t(r);for(var o in i.node)i.node[o].deep=i.node[o].left-.5;if("LR"===e.type||"RL"===e.type){var a=e.width/i.deep;"RL"===e.type&&(a*=-1);var s=e.height/(i.size- -.5);for(var l in i.node){var c=i.node[l];i.node[l].left=+(("RL"==e.type?e.width:0)- -c.left*a).toFixed(7),i.node[l].top=+(c.top*s).toFixed(7)}}else if("TB"===e.type||"BT"===e.type){var f=e.height/i.deep;"BT"==e.type&&(f*=-1);var d,h,p=e.width/(i.size- -.5);for(var g in i.node){var v=i.node[g];d=v.left,h=v.top,i.node[g].top=+(("BT"==e.type?e.height:0)- -d*f).toFixed(7),i.node[g].left=+(h*p).toFixed(7)}}else if("circle"===e.type)if(1==i.deep&&1==i.size)i.node[i.root].left=e.cx,i.node[i.root].top=e.cy;else{var y=e.radius/(i.deep-1),b=e.deg/(i.size- -.5);for(var m in i.node){var _=i.node[m];i.node[m].deg=(e["begin-deg"]- -b*_.top)%(2*Math.PI);var x=$(e.cx,e.cy,i.node[m].deg,e.cx- -y*(_.left-.5),e.cy);i.node[m].left=+x[0],i.node[m].top=+x[1]}}return u(e.drawer)?(e.drawer(i),n):i};return n.config=function(t){return e=p(e,t),n},n.drawer=function(t){return e.drawer=t,n},n}var j=function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e);return[t*i-n*o,t*o+n*i,r]},z=[];function O(e,t,n){return z=function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e);return[r*o+t*i,n,r*i-t*o]}((360-n)/180*Math.PI,100*e.scale,0,0),z=j(t/180*Math.PI,z[0],z[1],z[2]),z=j((90-e.center[0])/180*Math.PI,z[0],z[1],z[2]),[-(z=function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e);return[t,n*i-r*o,n*o+r*i]}((90-e.center[1])/180*Math.PI,z[0],z[1],z[2]))[0],z[1],z[2]]}function R(e){var t=p({type:"eoap",scale:1,center:[107,36]},e),n=function(e,n){if("eoap"==t.type)return O(t,e,n);throw new Error("Map type configuration error!")};return n.config=function(e){return t=p(t,e),n},n}var P=function(e){return e<0?Math.ceil(e):Math.floor(e)};function I(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(e==t)t>0?r=e/o:t<0&&(r=-(r=e/o)),n=(n=r/(i=Math.pow(10,P(Math.log(r)/Math.log(10)))==r?Math.pow(10,P(Math.log(r)/Math.log(10))):Math.pow(10,P(Math.log(r)/Math.log(10))+1)))>=0&&n<=.1?.1:n>=.100001&&n<=.2?.2:n>=.200001&&n<=.25?.25:n>=.250001&&n<=.5?.5:1,t=0,o=((e=P(e/(n*=i)+1)*n)-t)/n;else if(e!=t){n=(n=(r=(e-t)/o)/(i=Math.pow(10,P(Math.log(r)/Math.log(10)))==r?Math.pow(10,P(Math.log(r)/Math.log(10))):Math.pow(10,P(Math.log(r)/Math.log(10))+1)))>=0&&n<=.1?.1:n>=.100001&&n<=.2?.2:n>=.200001&&n<=.25?.25:n>=.250001&&n<=.5?.5:1,P(t/(n*=i))!=t/n&&(t=t<0?-1*Math.ceil(Math.abs(t/n))*n:P(Math.abs(t/n))*n);var a=((e=P(e/n+1)*n)-t)/n;if(a<o){var s=o-a;a=o,e+=s%2==0?n*P(s/2):n*P(s/2+1),t-=n*P(s/2)}o=a}for(var l={min:t,max:e,distance:n,num:o,ruler:[]},u=0;u<=o;u++)l.ruler.push(t+n*u);return l}function C(e){for(var t=[],n=function(n){["boolean","number","json","string","color","any"].indexOf(e[n])>-1?t.unshift((function(t){var r=!(arguments.length>0);return function(i){return{type:e[n],required:r,animation:i,default:t}}})):t.unshift({$animation:h,$cardinal:b,$formatColor:_,$getRandomColors:x,$tree:T,$dot:A,$rotate:$,$move:S,$scale:M,$map:R,$getLoopColors:w,$ruler:I}[e[n]])},r=e.length-2;r>=0;r--)n(r);return e[e.length-1].apply(this,t)}var E=function(e,t){switch(e){case"boolean":return"false"!=t&&0!=t;case"number":return/deg$/.test(t)?(0- -t.replace(/deg$/,""))/180*Math.PI:/pi$/.test(t)?(0- -t.replace(/pi$/,""))*Math.PI:l(t)?+t:t;case"json":return l(t)?JSON.parse(t):t}return t};function D(e,t){e=JSON.parse(JSON.stringify(e));var n=0;return function e(r,i){for(var o=[],a=0;a<r.length;a++){var s=r[a];if(i||s.name in t){var u={name:s.name,attrs:{},events:[],scope:{},index:n++},c=i?{attrs:t[i].subAttrs[s.name]}:t[s.name];for(var f in s.attrs)if(/^c\-bind\:/.test(f)||/^\:/.test(f))s.attrs[f.replace(/^(?:c\-bind){0,1}\:/,"")]={isBind:!0,express:s.attrs[f]},delete s.attrs[f];else if(/^c\-on\:/.test(f)){var d=(f.replace(/^c\-on\:/,"")+"@default").split("@");u.events.push({event:d[0],region:d[1],method:s.attrs[f]})}else if("c-for"==f){var h=/^ {0,}\(/.test(s.attrs[f]),p=h?/^ {0,}\( {0,}([0-9a-zA-Z_$]+) {0,}, {0,}([0-9a-zA-Z_$]+) {0,}\) {1,}in {1,}([^ ]+) {0,}$/.exec(s.attrs[f]):/^ {0,}([0-9a-zA-Z_$]+) {1,}in {1,}([^ ]+) {0,}$/.exec(s.attrs[f]);if(u["c-for"]={key:h?p[2]:null,value:p[1],data:h?p[3]:p[2]},/^\d{1,}$/.test(u["c-for"].data)){var g=+u["c-for"].data;u["c-for"].data=[];for(var v=0;v<g;v++)u["c-for"].data.push(v)}}else"c-if"==f?u["c-if"]=s.attrs[f]:s.attrs[f]={isBind:!1,express:s.attrs[f]};for(var y in s.attrs)/^c\-/.test(y)||("_id"==y?u._id=s.attrs._id:"_animation"==y?u._animation=s.attrs._animation:y in c.attrs||console.warn("attrs."+y+" is not defined for "+(i?i+" > "+s.name:s.name)+"!"));for(var b in c.attrs){var m=c.attrs[b];if(m.required&&!(b in s.attrs))throw new Error("attrs."+b+" is required for "+(i?i+" > "+s.name:s.name)+"!");u.attrs[b]={animation:m.animation,type:m.type,value:b in s.attrs?s.attrs[b]:{isBind:!1,express:m.default}},u.attrs[b].value.isBind||(u.attrs[b].value.express=E(u.attrs[b].type,u.attrs[b].value.express))}var _=[],x=[],w=[];if(s.children)for(var k=0;k<s.children.length;k++)l(s.children[k])?w.push(s.children[k]):c.subAttrs&&s.children[k].name in c.subAttrs?x.push(s.children[k]):_.push(s.children[k]);u.children=e(_),u.subAttrs=e(x,s.name),u.text=w,o.push(u)}else console.error("Series "+s.name+" is not defined!")}return o}(e)}var W=function(e,t,n,r,i){var o=Math.cos(n),a=Math.sin(n);return[+((r-e)*o-(i-t)*a+e).toFixed(7),+((r-e)*a+(i-t)*o+t).toFixed(7)]};var L={fillStyle:"black",strokeStyle:"black",lineWidth:1,textAlign:"left",textBaseline:"middle","font-size":16,"font-family":"sans-serif","arc-start-cap":"butt","arc-end-cap":"butt",lineDash:[],shadowBlur:0,shadowColor:"black"},B=function(e,t,n,r,i,o){return e.beginPath(),e.translate(n,r),e.rotate(i),"default"!=o?e.setFontSize(t["font-size"]):e.font=t["font-size"]+"px "+t["font-family"],e},F=function(e,t,n,r,i,o,a,s){if(i>o){var l=i;i=o,o=l}return a%=2*Math.PI,s>=1.999999*Math.PI||s<=1.999999*-Math.PI?s=2*Math.PI:s%=2*Math.PI,function(e,t,n,r,i,o,a){t<0&&(e+=t,t*=-1);var s,l=[];s=W(0,0,e,i,0),l[0]=s[0],l[1]=s[1],s=W(0,0,t,s[0],s[1]),l[2]=s[0],l[3]=s[1],s=W(0,0,e,o,0),l[4]=s[0],l[5]=s[1],s=W(0,0,t,s[0],s[1]),l[6]=s[0],l[7]=s[1],a(e,e+t,l[0]+n,l[1]+r,l[4]+n,l[5]+r,l[2]+n,l[3]+r,l[6]+n,l[7]+r,.5*(o-i))}(a,s,n,r,i,o,(function(a,s,l,u,c,f,d,h,p,g,v){v<0&&(v=-v),e.beginPath(),e.moveTo(l,u),e.arc(n,r,i,a,s,!1),"round"!=t["arc-end-cap"]?e.lineTo(p,g):e.arc(.5*(d+p),.5*(h+g),v,s-Math.PI,s,!0),e.arc(n,r,o,s,a,!0),"round"!=t["arc-start-cap"]?e.lineTo(l,u):e.arc(.5*(l+c),.5*(u+f),v,a,a-Math.PI,!0)})),"butt"==t["arc-start-cap"]&&e.closePath(),e},N=function(e,t,n,r){return e.beginPath(),e.moveTo(t+r,n),e.arc(t,n,r,0,2*Math.PI),e},U=function(e,t,n,r,i){return e.beginPath(),e.rect(t,n,r,i),e},q={};function J(e,n,r,i){var o;"default"!=e?o=n.painter:(o=n.getContext("2d"),n.style.width=r+"px",n.style.height=i+"px",n.setAttribute("width",2*r),n.setAttribute("height",2*i),o.scale(2,2));var a={},s="default"!=e?function(t,n){if(["font-size","font-family","arc-start-cap","arc-end-cap"].indexOf(t)>-1)a[t]=n;else try{o["set"+t[0].toUpperCase()+t.substr(1)](n)}catch(n){q[e]||(q[e]={}),q[e][t]||(q[e][t]=!0,console.warn("Clunch内置画笔的"+t+"属性在"+e+"平台上不支持！"))}}:function(e,t){if("lineDash"==e)o.setLineDash(t);else if(["font-size","font-family","arc-start-cap","arc-end-cap"].indexOf(e)>-1)a[e]=t;else{if(!(e in L))throw new Error("Illegal configuration item of painter : "+e+" !");o[e]=t}},l={config:function(){if(1===arguments.length){if("object"!==t(arguments[0]))return o[arguments[0]];for(var e in arguments[0])s(e,arguments[0][e])}else 2===arguments.length&&s(arguments[0],arguments[1]);return l},fillText:function(t,n,r,i){return o.save(),B(o,a,n,r,i||0,e).fillText(t,0,0),o.restore(),l},strokeText:function(t,n,r,i){return o.save(),B(o,a,n,r,i||0,e).strokeText(t,0,0),o.restore(),l},fullText:function(t,n,r,i){return o.save(),B(o,a,n,r,i||0,e),o.fillText(t,0,0),o.strokeText(t,0,0),o.restore(),l},beginPath:function(){return o.beginPath(),l},closePath:function(){return o.closePath(),l},moveTo:function(e,t){return o.moveTo(e,t),l},lineTo:function(e,t){return o.lineTo(e,t),l},arc:function(e,t,n,r,i){return o.arc(e,t,n,r,r+i,i<0),l},fill:function(){return o.fill(),l},stroke:function(){return o.stroke(),l},full:function(){return o.fill(),o.stroke(),l},save:function(){return o.save(),l},restore:function(){return o.restore(),l},quadraticCurveTo:function(e,t,n,r){return o.quadraticCurveTo(e,t,n,r),l},bezierCurveTo:function(e,t,n,r,i,a){return o.bezierCurveTo(e,t,n,r,i,a),l},clearRect:function(e,t,n,a){return o.clearRect(e||0,t||0,n||r,a||i),l},toDataURL:function(){return n.toDataURL()},drawImage:function(e,t,n,a,s,u,c,f,d){return t=t||0,n=n||0,u=u||0,c=c||0,f=f?2*f:2*r,d=d?2*d:2*i,"CANVAS"==e.nodeName?(f/=2,d/=2,a=a?2*a:2*r,s=s?2*s:2*i):(a=2*(a||e.width),s=2*(s||e.height)),o.drawImage(e,t,n,a,s,u,c,f,d),l},fillArc:function(e,t,n,r,i,s){return F(o,a,e,t,n,r,i,s).fill(),l},strokeArc:function(e,t,n,r,i,s){return F(o,a,e,t,n,r,i,s).stroke(),l},fullArc:function(e,t,n,r,i,s){return F(o,a,e,t,n,r,i,s),o.fill(),o.stroke(),l},fillCircle:function(e,t,n){return N(o,e,t,n).fill(),l},strokeCircle:function(e,t,n){return N(o,e,t,n).stroke(),l},fullCircle:function(e,t,n){return N(o,e,t,n),o.fill(),o.stroke(),l},fillRect:function(e,t,n,r){return U(o,e,t,n,r).fill(),l},strokeRect:function(e,t,n,r){return U(o,e,t,n,r).stroke(),l},fullRect:function(e,t,n,r){return U(o,e,t,n,r),o.fill(),o.stroke(),l},createLinearGradient:function(e,t,n,r){return function(e,t,n,r,i){var o=e.createLinearGradient(t,n,r,i),a={value:function(){return o},addColorStop:function(e,t){return o.addColorStop(e,t),a}};return a}(o,e,t,n,r)},createRadialGradient:function(e,t,n){return function(e,t,n,r){var i=e.createRadialGradient(t,n,0,t,n,r),o={value:function(){return i},addColorStop:function(e,t){return i.addColorStop(e,t),o}};return o}(o,e,t,n)}};return l}function H(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function V(e,t){var n,r,i=1,o=1,a={},s=[0,0,0],l="r";return"default"==e._platform?(n=document.createElement("canvas"),r=J(e._platform,n,1,1)):(n=t.region,r=J(e._platform,{painter:t.region},t.width,t.height),i=t.width,o=t.height),{draw:function(){n.draw()},erase:function(){r.config({fillStyle:"rgb(255,255,255)"}).fillRect(0,0,i,o)},updateSize:function(a,s){i=a,o=s,r="default"==e._platform?J(e._platform,n,a,s):J(e._platform,{painter:t.region},a,s)},painter:function(e,t){return null==a[e]&&(a[e]={r:function(){return s[0]+=1,l="g","rgb("+s[0]+","+s[1]+","+s[2]+")"},g:function(){return s[1]+=1,l="b","rgb("+s[0]+","+s[1]+","+s[2]+")"},b:function(){return s[2]+=1,l="r","rgb("+s[0]+","+s[1]+","+s[2]+")"}}[l]()),r.config(L).config({fillStyle:a[e],strokeStyle:a[e]}),r},getRegion:function(t,r){var i,o=function(e,t){if("result"==t.type)return{x:t.position.left,y:t.position.top};var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}(e.__canvas,t),s=function(){for(var e in a)if("rgb("+i[0]+","+i[1]+","+i[2]+")"==a[e])return void r([e,o.x,o.y]);r([null,o.x,o.y])};"default"==e._platform?(o.x-=m(e.__canvas,"border-left-width").replace("px",""),o.y-=m(e.__canvas,"border-top-width").replace("px",""),i=n.getContext("2d").getImageData(2*o.x-.5,2*o.y-.5,1,1).data,s()):e.__options.el.getRegionColor({x:o.x-.5,y:o.y-.5,width:1,height:1,canvasId:e.__options.el.regionid,success:function(e){i=e.data,s()},fail:function(e){throw new Error(e)}})}}}var G=Object.prototype.toString;var X=function(e){var n=t(e);return"string"===n||"object"===n&&null!=e&&!Array.isArray(e)&&"[object String]"===function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":G.call(e)}(e)},Z={blankReg:new RegExp("[\\x20\\t\\r\\n\\f]"),blanksReg:/^[\x20\t\r\n\f]{0,}$/,identifier:/^[a-zA-Z_$][0-9a-zA-Z_$]{0,}$/},Y=["+","-","*","/","%","&","|","!","?",":","[","]","(",")",">","<","="],K=["+","-","*","/","%","&","|","!","?",":",">","<","=","<=",">=","==","===","!=","!=="];function Q(e,t,n){t=t.trim();var r=-1,i=null,o=function(){return i=r++<t.length-1?t[r]:null},a=function(e){return t.substring(r,e+r>t.length?t.length:e+r)};o();for(var s=[];!(r>=t.length);)if(Y.indexOf(i)>-1)if(["&","|","="].indexOf(i)>-1)if(["==="].indexOf(a(3))>-1)s.push(a(3)),r+=2,o();else{if(!(["&&","||","=="].indexOf(a(2))>-1))throw new Error("Illegal expression : "+t+"\nstep='analyseExpress',index="+r);s.push(a(2)),r+=1,o()}else["!=="].indexOf(a(3))>-1?(s.push(a(3)),r+=2,o()):[">=","<=","!="].indexOf(a(2))>-1?(s.push(a(2)),r+=1,o()):(s.push(i),o());else if(['"',"'"].indexOf(i)>-1){var l="",u=i;for(o();i!=u;){if(r>=t.length)throw new Error("String unclosed error : "+t+"\nstep='analyseExpress',index="+r);l+=i,o()}s.push(l+"@string"),o()}else if(/\d/.test(i)){var c="no";l=i;for(o();r<t.length;){if(/\d/.test(i))l+=i,"error"==c&&(c="yes");else{if("."!=i||"no"!=c)break;l+=i,c="error"}o()}"error"==c&&(l+="0"),s.push(+l)}else if(["null","true"].indexOf(a(4))>-1)s.push({null:null,true:!0}[a(4)]),r+=3,o();else if(["false"].indexOf(a(5))>-1)s.push({false:!1}[a(5)]),r+=4,o();else if(["undefined"].indexOf(a(9))>-1)s.push({undefined:void 0}[a(9)]),r+=8,o();else if(Z.blankReg.test(i))do{o()}while(Z.blankReg.test(i)&&r<t.length);else{var f=!1;if("."==i&&(f=!0,o()),!Z.identifier.test(i))throw new Error("Illegal express : "+t+"\nstep='analyseExpress',index="+r);for(var d=1;r+d<=t.length&&Z.identifier.test(a(d));)d+=1;if(f)s.push("["),s.push(a(d-1)+"@string"),s.push("]");else{var h=a(d-1),p=h in n?n[h]:e[h];s.push(X(p)?p+"@string":p)}r+=d-2,o()}for(var g=0,v=0;v<s.length;v++)["+","-"].indexOf(s[v])>-1&&(0==v||K.indexOf(s[g-1])>-1)?(s[g++]=+(s[v]+s[v+1]),v+=1):s[g++]=s[v];return s.length=g,s}var ee=function(e){return"string"==typeof e?e.replace(/@string$/,""):e},te=function(e){return"string"==typeof e?e+"@string":e};function ne(e){for(var t=0,n=0;n<e.length;n++)"!"==e[n]?e[t]=!e[++n]:e[t]=e[n],t+=1;if(1==t)return ee(e[0]);for(e.length=t,t=0,n=0;n<e.length;n++)"*"==e[n]?e[t-1]=ee(e[t-1])*ee(e[++n]):"/"==e[n]?e[t-1]=ee(e[t-1])/ee(e[++n]):"%"==e[n]?e[t-1]=ee(e[t-1])%ee(e[++n]):e[t++]=e[n];if(1==t)return ee(e[0]);for(e.length=t,t=0,n=0;n<e.length;n++)"+"==e[n]?e[t-1]=te(ee(e[t-1])+ee(e[++n])):"-"==e[n]?e[t-1]=ee(e[t-1])-ee(e[++n]):e[t++]=e[n];if(1==t)return ee(e[0]);for(e.length=t,t=0,n=0;n<e.length;n++)">"==e[n]?e[t-1]=ee(e[t-1])>ee(e[++n]):"<"==e[n]?e[t-1]=ee(e[t-1])<ee(e[++n]):"<="==e[n]?e[t-1]=ee(e[t-1])<=ee(e[++n]):">="==e[n]?e[t-1]=ee(e[t-1])>=ee(e[++n]):e[t++]=e[n];if(1==t)return ee(e[0]);for(e.length=t,t=0,n=0;n<e.length;n++)"=="==e[n]?e[t-1]=ee(e[t-1])==ee(e[++n]):"==="==e[n]?e[t-1]=ee(e[t-1])===ee(e[++n]):"!="==e[n]?e[t-1]=ee(e[t-1])!=ee(e[++n]):"!=="==e[n]?e[t-1]=ee(e[t-1])!==ee(e[++n]):e[t++]=e[n];if(1==t)return ee(e[0]);for(e.length=t,t=0,n=0;n<e.length;n++)"&&"==e[n]?(e[t-1]=ee(e[t-1])&&ee(e[1+n]),n+=1):"||"==e[n]?(e[t-1]=ee(e[t-1])||ee(e[1+n]),n+=1):e[t++]=e[n];if(1==t)return ee(e[0]);for(e.length=t,t=0,n=0;n<e.length;n++)"?"==e[n]?(e[t-1]=ee(e[t-1])?ee(e[n+1]):ee(e[n+3]),n+=3):e[t++]=e[n];if(1==t)return ee(e[0]);throw e.length=t,new Error("Unrecognized expression : ["+e.toString()+"]")}var re=function(e){for(var t=!0;t;){t=!1;for(var n=[],r=[],i=!1,o=0;o<e.length;o++)if("["==e[o]&&0!=o&&"]"!=e[o-1]){if(i){n.push("[");for(var a=0;a<r.length;a++)n.push(r[a])}else i=!0;r=[]}else if("]"==e[o]&&i){t=!0;var s=ne(r),l=n[n.length-1][s];n[n.length-1]=X(l)?l+"@string":l,i=!1}else i?r.push(e[o]):n.push(e[o]);e=n}return e},ie=function(e){for(var t=[],n=[],r=0;r<e.length;r++)"["==e[r]?n=[]:"]"==e[r]?t.push(ne(n)):n.push(e[r]);return t};function oe(e,t,n){var r,i=function e(t,n,r){if(n.indexOf("(")>-1){for(var i=[],o=[],a=0,s=0;s<n.length;s++)if("("==n[s])a>0&&o.push("("),a+=1;else if(")"==n[s]){if(a>1&&o.push(")"),0==(a-=1)){var l=ne(e(t,o));i.push(X(l)?l+"@string":l),o=[]}}else a>0?o.push(n[s]):i.push(n[s]);n=i}return re(n)}(e,t);if("["!=i[0])r=[ne(i)];else if("]"==i[i.length-1])r=ie(i);else{var o=i.lastIndexOf("]"),a=ie(i.slice(0,o+1)),s=i.slice(o+1);s.unshift(function(e,t,n){for(var r=(t[0]in n?n[t[0]]:e[t[0]]),i=1;i<t.length;i++)try{r=r[t[i]]}catch(r){throw console.error({target:e,scope:n,expressArray:t,index:i}),r}return r}(e,a,n)),r=[ne(s)]}return r}var ae=function(e,t,n){arguments.length<3&&(n={});var r=Q(e,t,n),i=oe(e,r,n);if(i.length>1)throw new Error("Illegal expression : "+t+"\nstep='evalExpress',path="+i+",expressArray="+r);return i[0]},se=function(e,t,n){if(t.animation&&e.value!=t.value){if(u(t.animation))return{type:t.type,animation:!0,value:t.animation(t.value,e.value,n)};if("number"==t.type)return{type:t.type,animation:!0,value:(t.value-e.value)*n+e.value}}return t};function le(e){this instanceof le?(["beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDestroy","destroyed"].forEach((function(t){c(e[t])&&(e[t]=C(e[t]))})),this.$$lifecycle(e.beforeCreate),this.$$init(e),function(e){var t=function(t){var n=e.__data[t];e[t]=n,Object.defineProperty(e,t,{get:function(){return n},set:function(t){n=t,e.__observeWatcher.flag||window.setTimeout((function(){e.$$updateWithData(),e.__observeWatcher.flag=!1}),0),e.__observeWatcher.flag=!0}})};for(var n in e.__data)t(n)}(this),this.$$lifecycle("created"),this.$mount(e.el)):console.error("Clunch is a constructor and should be called with the `new` keyword")}function ue(e){var t=C(e);for(var n in t.attrs)u(t.attrs[n])&&(t.attrs[n]=t.attrs[n](!1));for(var r in t.subAttrs)for(var i in t.subAttrs[r])u(t.subAttrs[r][i])&&(t.subAttrs[r][i]=t.subAttrs[r][i](!1));return t}!function(e){e.prototype.$$init=function(e){var t=this;for(var n in this.__options=e,this._platform="platform"in e?e.platform:"default",this.__data=c(e.data)?C(e.data):u(e.data)?e.data():e.data,this.__animation=!("animation"in e)||e.animation,this._isMounted=!1,this._isDestroyed=!1,e.methods)v(n),this[n]=c(e.methods[n])?C(e.methods[n]):e.methods[n];for(var r in this.__data)v(r),this[r]=this.__data[r];this.__renderFlag=!!e.render||!!e.template,e.render?this.__renderAOP=D(e.render,this.__defineSerirs):e.template&&(this.__renderOptions=this.$$templateCompiler(e.template),this.__renderAOP=D(this.__renderOptions,this.__defineSerirs)),this.__observeWatcher={flag:!1,stop:null,time:"time"in e?e.time:500},this.__observeResize={help:!0,flag:!1,observer:null},this.__painter=null,this._width=0,this._height=0,this._min=0,this._max=0,"default"==this._platform?this.__regionManager=V(this):this.__regionManager=V(this,e.el),this.$$trigger=function(e,n){for(var r=t.__events_platform[e],i=0;i<r.length;i++)r[i]({type:"result",position:n})}}}(le),function(e){e.prototype.$$lifecycle=function(e){return u(e)?e():["created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDraw","drawed","beforeDestroy","destroyed"].indexOf(e)>-1&&u(this.__options[e])&&this.__options[e].call(this),this}}(le),function(e){e.prototype.$$updateView=function(){var e=this;if(this._isMounted&&this.__painter){this.$$lifecycle("beforeDraw"),this.__regionManager.erase(),this.__painter.clearRect();for(var t=function(t){var n={_subTexts:e.__renderSeries[t].subText,_subAttr:[]};for(var r in e.__renderSeries[t].attr)n[r]=e.__renderSeries[t].attr[r].value;for(var i=0;i<e.__renderSeries[t].subAttr.length;i++){var o={series:e.__renderSeries[t].subAttr[i].name,attr:{}};for(var a in e.__renderSeries[t].subAttr[i].attr)o.attr[a]=e.__renderSeries[t].subAttr[i].attr[a].value;n._subAttr.push(o)}e.__painter.config(L),e.__defineSerirs[e.__renderSeries[t].name].link.call(e,e.__painter,n);var s=e.__defineSerirs[e.__renderSeries[t].name].region;if(s){var l=function(r){var i=e;s[r].call(i,(function(e,n){return arguments.length>0?e+="":e="default",i.__regionManager.painter(t+"@"+r+"::"+e,n)}),n)};for(var u in s)l(u)}},n=0;n<this.__renderSeries.length;n++)t(n);"default"!=this._platform&&(this.__platform_painter.draw(),null!=this.__regionManager&&this.__regionManager.draw()),this.$$lifecycle("drawed")}},e.prototype.$$updateWithSize=function(){var e=this;this.$$lifecycle("beforeResize");var t=this.__el.clientWidth-(m(this.__el,"padding-left")+"").replace("px","")-(m(this.__el,"padding-right")+"").replace("px",""),n=this.__el.clientHeight-(m(this.__el,"padding-top")+"").replace("px","")-(m(this.__el,"padding-bottom")+"").replace("px","");if(this._width=t,this._height=n,this._max=t>n?t:n,this._min=t<n?t:n,0==t||0==n)return this.__canvas.style.width="0px",this.__canvas.style.height="0px",void this.$$lifecycle("resized");this.__painter=J(this._platform,this.__canvas,t,n),this.__regionManager.updateSize(t,n),u(this.__observeWatcher.stop)&&(this.__observeWatcher.stop(),this.__observeWatcher.stop=null),setTimeout((function(){e.$$updateWithData(!0),e.$$lifecycle("resized")}),10)},e.prototype.$$updateWithData=function(e){var t=this;u(this.__observeWatcher.stop)?(this.__observeWatcher.stop(),this.__observeWatcher.stop=null):this.$$lifecycle("beforeUpdate"),this.__events={click:{},dblclick:{},mousemove:{},mousedown:{},mouseup:{}};var n=[],r=this;if(function e(t,i,o,a,l){for(var u=[],f=0;f<t.length;f++){for(var d in i)t[f].scope[d]=i[d];var h=void 0;h="_id"in t[f]?t[f]._id.isBind?ae(r,t[f]._id.express,t[f].scope):t[f]._id.express:a+t[f].index;var p=void 0;if(p="_animation"in t[f]?t[f]._animation.isBind?ae(r,t[f]._animation.express,t[f].scope):t[f]._animation.express:"lazy",l||!("c-for"in t[f])){if("c-if"in t[f]&&!ae(r,t[f]["c-if"],t[f].scope));else if(e(t[f].children,t[f].scope,!1,h+"-",!1),"group"!=t[f].name){var g={name:t[f].name,attr:{},subAttr:[],subText:t[f].text,id:h,animation:p};for(var v in t[f].attrs){var y=t[f].attrs[v];g.attr[v]={animation:y.animation,type:y.type,value:y.value.isBind?ae(r,y.value.express,t[f].scope):y.value.express}}g.subAttr=e(t[f].subAttrs,t[f].scope,!0,h+"-",!1);for(var b=0;b<t[f].events.length;b++){var m=t[f].events[b];r.__events[m.event][n.length+"@"+m.region]=r[m.method]}o?u.push(g):n.push(g)}}else{var _=t[f]["c-for"],x=void 0;if(c(_.data))x=_.data;else if(x=ae(r,_.data,t[f].scope),s(x)){var w=x;x=[];for(var k=0;k<w;k++)x.push(k)}for(var $ in x){t[f].scope[_.value]=x[$],null!=_.key&&(t[f].scope[_.key]=c(x)?+$:$);var S=e([t[f]],{},o,h+"for"+$+"-",!0);if(o)for(var M=0;M<S.length;M++)u.push(S[M])}}}return u}(this.__renderAOP,{},!1,"",!1),!this.__renderSeries||e||!this.__animation)return this.__renderSeries=n,this.$$updateView(),void this.$$lifecycle("updated");var i=function(e,t){for(var n={},r=0;r<e.length;r++){for(var i={},o=0;o<e[r].subAttr.length;o++)i[e[r].subAttr[o].id]=o;n[e[r].id]={index:r,subLinkIdToIndex:i}}return function(r){if(1==r)return t;for(var i=[],o=0;o<t.length;o++)if(t[o].id in n){var a=e[n[t[o].id].index],s={};for(var l in a.attr)s[l]=se(a.attr[l],t[o].attr[l],r);for(var u=[],c=0;c<t[o].subAttr.length;c++)if(t[o].subAttr[c].id in n[t[o].id].subLinkIdToIndex){var f=a.subAttr[n[t[o].id].subLinkIdToIndex[t[o].subAttr[c].id]],d={};for(var h in f.attr)d[h]=se(f.attr[h],t[o].subAttr[c].attr[h],r);u.push({id:f.id,name:f.name,subText:f.subText,subAttr:[],attr:d})}else u.push(t[o].subAttr[c]);i.push({id:t[o].id,name:t[o].name,subText:t[o].subText,subAttr:u,attr:s})}else"quick"==t[o].animation&&i.push(t[o]);return i}}(this.__renderSeries,n);this.__observeWatcher.stop=h((function(e){t.__renderSeries=i(e),t.$$updateView()}),this.__observeWatcher.time,(function(e){1==e&&(t.__observeWatcher.stop=null,t.$$lifecycle("updated"))}))}}(le),le.prototype.__defineSerirs={},function(e){!function(e){e.prototype.$reuseSeriesLink=function(e,t){this.__painter.config(L);var n=this.__defineSerirs[e],r={_subAttr:[],_subTexts:"texts"in t?t.texts:[]};for(var i in n.attrs)i in t.attr?r[i]=t.attr[i]:r[i]=n.attrs[i].default;if("subSeries"in t)for(var o=0;o<t.subSeries.length;o++){var a=t.subSeries[o],s=n.subAttrs[a.name],l={series:a.name,attr:{}};for(var u in a.attr)u in a.attr?l.attr[u]=a.attr[u]:l.attr[u]=s[u].default;r._subAttr.push(l)}n.link.call(this,this.__painter,r)}}(e),e.series=function(t,n){if(1==arguments.length)for(var r in t)e.series(r,t[r]);else u(e.prototype.__defineSerirs[t])&&console.warn("The series["+t+"] has been registered!"),e.prototype.__defineSerirs[t]=ue(n);return e}}(le),le.prototype.$mount=function(e){var t=this;return this._isDestroyed?(console.warn("The clunch has been destroyed!"),this):this._isMounted?void console.warn("The clunch is already mounted!"):"default"!=this._platform||function(e){return a([1,9,11],e)}(e)?(this.$$lifecycle("beforeMount"),this.__renderFlag||(this.__renderOptions=this.$$templateCompiler(e.innerHTML),this.__renderAOP=D(this.__renderOptions,this.__defineSerirs)),this.__el=e,"default"==this._platform?(e.innerHTML="<canvas>非常抱歉，您的浏览器不支持canvas!</canvas>",this.__canvas=e.getElementsByTagName("canvas")[0],function(e){try{e.__observeResize.observer=new ResizeObserver((function(){if(e.__observeResize.flag)e.__observeResize.help=!1;else{e.__observeResize.flag=!0;var t=setInterval((function(){e.__observeResize.help&&(window.clearInterval(t),e.__observeResize.flag=!1,e.$$updateWithSize()),e.__observeResize.help=!0}),200)}})),e.__observeResize.observer.observe(e.__el)}catch(t){e.$$updateWithSize(),console.error("ResizeObserver undefined!")}}(this)):(this.__painter=J(this._platform,e,e.width,e.height),this.__platform_painter=e.painter,this.$resize(e.width,e.height)),this.$$updateWithData(),this.__events_platform={click:[],dblclick:[],mousemove:[],mousedown:[],mouseup:[]},["click","dblclick","mousemove","mousedown","mouseup"].forEach((function(e){var n=function(n){t.__regionManager.getRegion(n,(function(n){if(null!=n[0]){var r=n[0].split("::"),i=t.__events[e][r[0]];if(u(i)){var o=r[0].split("@"),a=t.__renderSeries[o[0]],s={};for(var l in a.attr)s[l]=a.attr[l].value;i.call(t,{id:a.id,series:a.name,region:o[1],subRegion:r[1],attr:s,left:n[1],top:n[2],data:n[3]})}}}))};"default"==t._platform?H(t.__canvas,e,n):t.__events_platform[e].push(n)})),this.$bind=function(e,t){var n=this,r=function(e){n.__regionManager.getRegion(e,(function(e){var r;if(null!=e[0]){var i=e[0].split("::"),o=i[0].split("@"),a=n.__renderSeries[o[0]],s={};for(var l in a.attr)s[l]=a.attr[l].value;r={id:a.id,series:a.name,region:o[1],subRegion:i[1],attr:s,left:e[1],top:e[2],data:e[3]}}else r={series:null,region:null,subRegion:null,attr:{},left:-1,top:-1,data:null};r.left=e[1],r.top=e[2],t.call(n,r)}))};return"default"==this._platform?H(this.__canvas,e,r):(e in this.__events_platform||(this.__events_platform[e]=[]),this.__events_platform[e].push(r)),this},this._isMounted=!0,this.$$lifecycle("mounted"),this):(console.warn("Mount node does not exist!"),this)},le.prototype.$unmount=function(){return this._isDestroyed?(console.warn("The object has been destroyed!"),this):this._isMounted?(this.$$lifecycle("beforeUnmount"),this.__observeResize.observer.disconnect(),this.__painter=null,this.__canvas=null,this._isMounted=!1,this.$$lifecycle("unmounted"),this):(console.warn("Object not mounted!"),this)},le.prototype.$destroy=function(){return this._isDestroyed?(console.warn("The object has been destroyed!"),this):(this._isMounted&&this.$unmount(),this.$$lifecycle("beforeDestroy"),delete this.__regionManager,this.__observeResize={},this.__observeWatcher={},this._isDestroyed=!0,this.$$lifecycle("destroyed"),this)},le.prototype.$resize=function(e,t){if(this._isMounted||"default"!=this._platform)if("default"!=this._platform){if(!s(e))return console.warn("The width undefined!"),this;if(!s(t))return console.warn("The height undefined!"),this;this.$$lifecycle("beforeResize"),this._width=e,this._height=t,this._max=e>t?e:t,this._min=e<t?e:t,null!=this.__regionManager&&this.__regionManager.updateSize(e,t),this.$$updateWithData(!0),this.$$lifecycle("resized")}else this.$$updateWithSize();else console.warn("The clunch not mounted!");return this},le.series("group",[function(){return{attrs:{}}}]);var ce=["number","json","string","color",function(e,t,n,r){return{attrs:{"fill-color":r("black"),"stroke-color":r("black"),"line-width":e(1)(!0),dash:t([]),type:n("fill"),cx:e()(!0),cy:e()(!0),radius1:e()(!0),radius2:e()(!0),begin:e(0)(!0),deg:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Arc"](t.cx,t.cy,t.radius1,t.radius2,t.begin,t.deg)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var n=t.type;if(!u(e[n+"Arc"]))throw new Error("Type error!"+JSON.stringify({series:"arc",type:n}));e[n+"Arc"](t.cx,t.cy,t.radius1,t.radius2,t.begin,t.deg)}}}],fe=["number","json","string","color",function(e,t,n,r){return{attrs:{"fill-color":r("black"),"stroke-color":r("black"),"line-width":e(1),dash:t([]),type:n("fill"),cx:e()(!0),cy:e()(!0),radius:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Circle"](t.cx,t.cy,t.radius)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var n=t.type;if(!u(e[n+"Circle"]))throw new Error("Type error!"+JSON.stringify({series:"circle",type:n}));e[n+"Circle"](t.cx,t.cy,t.radius)}}}],de=["number","string","boolean","json","color",function(e,t,n,r,i){return{attrs:{"fill-color":i("black"),"stroke-color":i("black"),"line-width":e(1)(!0),dash:r([]),type:t("stroke"),close:n(!1)},subAttrs:{"move-to":{x:e()(!0),y:e()(!0)},"line-to":{x:e()(!0),y:e()(!0)},"bezier-to":{x:e()(!0),y:e()(!0),cp1x:e()(!0),cp1y:e()(!0),cp2x:e(null)(!0),cp2y:e(null)(!0)}},link:function(e,t){e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash}),e.beginPath();for(var n=0;n<t._subAttr.length;n++)"move-to"==t._subAttr[n].series?e.moveTo(t._subAttr[n].attr.x,t._subAttr[n].attr.y):"line-to"==t._subAttr[n].series?e.lineTo(t._subAttr[n].attr.x,t._subAttr[n].attr.y):"bezier-to"==t._subAttr[n].series&&(null==t._subAttr[n].attr.cp2x&&null==t._subAttr[n].attr.cp2y?e.quadraticCurveTo(t._subAttr[n].attr.cp1x,t._subAttr[n].attr.cp1y,t._subAttr[n].attr.x,t._subAttr[n].attr.y):e.bezierCurveTo(t._subAttr[n].attr.cp1x,t._subAttr[n].attr.cp1y,t._subAttr[n].attr.cp2x,t._subAttr[n].attr.cp2y,t._subAttr[n].attr.x,t._subAttr[n].attr.y));t.close&&e.closePath();var r=t.type;if(!u(e[r]))throw new Error("Type error!"+JSON.stringify({series:"path",type:r}));e[r]()}}}],he=["number","json","string","color","$rotate",function(e,t,r,i,o){return{attrs:{begin:e(0),deg:e(2*Math.PI),color:i("black"),cx:e(),cy:e(),radius:e(),"mark-direction":r("outer"),"value-position":r("mark"),value:t()},link:function(e,t){var r=t.value;e.config({lineWidth:1,fillStyle:t.color,strokeStyle:t.color,"font-size":"12",textAlign:"center",textBaseline:"middle",lineDash:[]}),e.beginPath().arc(t.cx,t.cy,t.radius,t.begin,t.deg).stroke();for(var i="mark"==t["value-position"]?r.length:r.length+1,a=t.deg/(i-1),s=0;s<i;s++){var l,u;(l=(u=e.beginPath()).moveTo.apply(u,n(o(t.cx,t.cy,t.begin+s*a,t.cx+t.radius,t.cy)))).lineTo.apply(l,n(o(t.cx,t.cy,t.begin+s*a,t.cx+t.radius+5*("inner"==t["mark-direction"]?-1:1),t.cy))).stroke()}for(var c=0;c<r.length;c++){var f=t.begin+a*(c+("mark"==t["value-position"]?0:.5)),d=f%(2*Math.PI);e.fillText.apply(e,[r[c]].concat(n(o(t.cx,t.cy,f,t.cx+t.radius+15*("inner"==t["mark-direction"]?-1:1),t.cy)),[f+(d>0&&d<Math.PI||d>-2*Math.PI&&d<-Math.PI?.5*-Math.PI:.5*Math.PI)]))}}}}],pe=["number","json","string","color",function(e,t,n,r){return{attrs:{"fill-color":r("black"),"stroke-color":r("black"),"line-width":e(1),dash:t([]),type:n("fill"),align:n("left"),baseline:n("top"),x:e()(!0),y:e()(!0),width:e()(!0),height:e()(!0)},region:{default:function(e,t){e().config({lineWidth:t["line-width"],lineDash:t.dash})[t.type+"Rect"](t.x,t.y,t.width,t.height)}},link:function(e,t){"center"==t.align?t.x-=.5*t.width:"right"==t.align&&(t.x-=t.width),"middle"==t.baseline?t.y-=.5*t.height:"bottom"==t.baseline&&(t.y-=t.height),e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],lineWidth:t["line-width"],lineDash:t.dash});var n=t.type;if(!u(e[n+"Rect"]))throw new Error("Type error!"+JSON.stringify({series:"rect",type:n}));e[n+"Rect"](t.x,t.y,t.width,t.height)}}}],ge=["number","json","string","color","$dot",function(e,t,r,i,o){return{attrs:{x:e(),y:e(),direction:r("LR"),length:e(),"mark-direction":r("right"),"value-position":r("mark"),color:i("black"),value:t()},link:function(e,t){var r,i,a=t.value;if(e.config({lineWidth:1,fillStyle:t.color,strokeStyle:t.color,"font-size":"12",textAlign:"LR"==t.direction||"RL"==t.direction?"center":"BT"==t.direction&&"right"==t["mark-direction"]||"TB"==t.direction&&"left"==t["mark-direction"]?"left":"right",lineDash:[],textBaseline:"middle"}),"LR"==t.direction)r={x:t.x+t.length,y:t.y},i="right"==t["mark-direction"]?[0,1]:[0,-1];else if("RL"==t.direction)r={x:t.x-t.length,y:t.y},i="right"==t["mark-direction"]?[0,-1]:[0,1];else if("TB"==t.direction)r={x:t.x,y:t.y+t.length},i="right"==t["mark-direction"]?[-1,0]:[1,0];else{if("BT"!=t.direction)throw new Error("Type error!"+JSON.stringify({series:"ruler",type:type}));r={x:t.x,y:t.y-t.length},i="right"==t["mark-direction"]?[1,0]:[-1,0]}e.beginPath().moveTo(t.x,t.y).lineTo(r.x,r.y).stroke();for(var s="mark"==t["value-position"]?a.length:a.length+1,l=t.length/(s-1),u=o({d:[r.x-t.x,r.y-t.y],p:[t.x,t.y]}),c=0;c<s;c++){var f,d=u.value();(f=e.beginPath()).moveTo.apply(f,n(d)).lineTo(d[0]+5*i[0],d[1]+5*i[1]).stroke(),u.move(l)}u=o({d:[r.x-t.x,r.y-t.y],p:[t.x,t.y]}),"between"==t["value-position"]&&u.move(.5*l);for(var h=0;h<a.length;h++){var p=u.value();e.fillText(a[h],p[0]+15*i[0],p[1]+15*i[1]),u.move(l)}}}}],ve=["number","string","json","color",function(e,t,n,r){return{attrs:{"fill-color":r("black"),"stroke-color":r("black"),"font-size":e(16)(!0),"font-family":t("sans-serif"),"line-width":e(1),align:t("left"),baseline:t("middle"),type:t("fill"),content:t(null),x:e()(!0),y:e()(!0),deg:e(0)(!0),dash:n([])},region:{default:function(e,t){e().config({"font-size":t["font-size"],"font-family":t["font-family"],lineWidth:t["line-width"],textAlign:t.align,textBaseline:t.baseline,lineDash:t.dash})[t.type+"Text"]((t.content+"").trim(),t.x,t.y,t.deg)}},link:function(e,t){null==t.content&&(t.content=t._subTexts.join("\n")),e.config({fillStyle:t["fill-color"],strokeStyle:t["stroke-color"],"font-size":t["font-size"],"font-family":t["font-family"],lineWidth:t["line-width"],textAlign:t.align,textBaseline:t.baseline,lineDash:t.dash});var n=t.type;if(!u(e[n+"Text"]))throw new Error("Type error!"+JSON.stringify({series:"text",type:n}));e[n+"Text"]((t.content+"").trim(),t.x,t.y,t.deg)}}}];le.prototype.$$templateCompiler=function(e){throw new Error("Sorry, setting template property is not supported in the current environment : \n"+e)},le.series({arc:ce,circle:fe,path:de,"polar-ruler":he,rect:pe,ruler:ge,text:ve}),"object"===t(e)&&"object"===t(e.exports)?e.exports=le:window.Clunch=le}()}).call(this,n(9)(e))},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){
/*!
 * xhr.js - General purpose HTTP / HTTPS client. Supports transparent gzip / deflate decoding.
 * git+https://github.com/hai2007/xhr.js.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.1.2
 *
 * Copyright (c) 2021-present hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Fri May 21 2021 10:10:06 GMT+0800 (GMT+08:00)
 */
!function(){"use strict";var t=Object.prototype.toString;function n(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":t.call(e)}var r=function(e){var t=typeof e;return"string"===t||"object"===t&&null!=e&&!Array.isArray(e)&&"[object String]"===n(e)},i=function(e){if(!function(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}(e))return!1;var t=n(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t},o=function(e){if(null===e||"object"!=typeof e||"[object Object]"!=n(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var a=function(e,t,n){var a;for(var s in(a=i(e.xhr)?e.xhr():new XMLHttpRequest).onload=function(){4==a.readyState&&t({status:a.status,data:a.responseText})},a.ontimeout=function(){n({status:a.status,data:"请求超时了"})},a.onerror=function(){n({status:a.status,data:a.responseText})},a.open(e.method,e.url,!0),e.header)a.setRequestHeader(s,e.header[s]);a.timeout="timeout"in e?e.timeout:6e3,a.send(function(e){return r(e)?e:o(e)?JSON.stringify(e):function(e){return void 0===e}(e)?"":e}(e.data))};"object"==typeof e.exports?e.exports=a:window.xhr=a}()},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){e.exports=n.p+"dist/bg.png"},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s={insert:"head",singleton:!1},l=(i()(a.a,s),a.a.locals,n(2)),u=n.n(l),c={insert:"head",singleton:!1},f=(i()(u.a,c),u.a.locals,n(3)),d=n.n(f),h=n(5),p=n.n(h),g=function(e){var t=new Date,n=t.getFullYear(),r="-"+(t.getMonth()- -1)+"-"+t.getDate();return function(e){var t=sessionStorage.getItem(e);return new Promise(t?function(e){e(JSON.parse(t))}:function(t,n){p()({method:"GET",url:e,data:{},header:{},timeout:6e4,xhr:function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}},(function(n){sessionStorage.setItem(e,n.data),t(JSON.parse(n.data))}),(function(e){n(e.data)}))})}("https://api.npmjs.org/downloads/range/"+(n-1)+r+":"+n+r+"/"+e)},v=function(e,t){for(var n=[],r=[],i=e.length-1;i>=t-1;i-=t){for(var o=0,a=0;a<t;a++)o+=e[i-a].downloads;n.unshift(o),r.unshift(e[i].day+"至"+e[i-t+1].day)}return{value:n,time:r}};d.a.series("ui-hover",["number",function(e){return{attrs:{x:e()(!0),y:e()(!0),width:e()(!0),index:e()},link:function(e,t){var n=t.x,r=t.y,i=t.width,o=50+20*this.pkgs.length;n+i>this._width&&(n-=i),r+o>this._height&&(r-=o),e.config("fillStyle","#ffffff").fillRect(n,r,i,o),e.config({fillStyle:"red","font-size":20,textAlign:"left",textBaseline:"middle"}).fillText(this.pkgs[0].time[t.index],n+10,r+20),e.config({"font-size":14});for(var a=0;a<this.pkgs.length;a++)e.config("fillStyle",this.pkgs[a].color).fillCircle(n+20,r+50+20*a,3),e.config("fillStyle","#000").fillText(this.pkgs[a].package+" : "+this.pkgs[a].value[t.index],n+40,r+50+20*a)}}}]),window.clunch=new d.a({el:document.getElementById("root"),render:[{name:"text",attrs:{"c-if":"loadSize!=-1",":x":"_width*0.5",":y":"_height*0.5",align:"center",":font-size":"loadSize","fill-color":"white"},children:["Loading......"]},{name:"path",attrs:{"c-if":"flag","stroke-color":"white",_animation:"quick"},children:[{name:"move-to",attrs:{":x":"150+hover.index*xDist",y:"0"},children:[]},{name:"line-to",attrs:{":x":"150+hover.index*xDist",":y":"_height"},children:[]}]},{name:"group",attrs:{"c-if":"loadSize==-1"},children:[{name:"ruler",attrs:{color:"white",x:"150",":y":"_height-50",":length":"_height-100",":value":"yRuler.ruler",direction:"BT","mark-direction":"left"},children:[]},{name:"path",attrs:{"c-for":"item in pkgs",":stroke-color":"item.color"},children:[{name:"move-to",attrs:{x:"150",":y":"_height-50-(item.value[0]-yRuler.min)/(yRuler.max-yRuler.min)*(_height-100)"},children:[]},{name:"line-to",attrs:{":x":"150+index*xDist",":y":"_height-50-(dot-yRuler.min)/(yRuler.max-yRuler.min)*(_height-100)","c-for":"(dot,index) in item.value"},children:[]}]},{name:"group",attrs:{"c-for":"item in pkgs"},children:[{name:"circle",attrs:{":radius":"hover.index==index?5:2",type:"full",":stroke-color":"item.color","fill-color":"white",":cx":"150+index*xDist",":cy":"_height-50-(dot-yRuler.min)/(yRuler.max-yRuler.min)*(_height-100)","c-for":"(dot,index) in item.value"},children:[]}]},{name:"group",attrs:{"c-for":"(item,index) in pkgs"},children:[{name:"rect",attrs:{x:"200",":y":"index*40 + 160",baseline:"middle",width:"260",height:"30",":fill-color":"item.color"},children:[]},{name:"rect",attrs:{x:"460",":y":"index*40 + 160",baseline:"middle",width:"30",height:"30","fill-color":"white",":_id":'item.package+":rect"'},children:[]},{name:"text",attrs:{x:"330",":y":"index*40 + 160",align:"center",":content":"item.package","fill-color":"white"},children:[]},{name:"text",attrs:{x:"475",":y":"index*40 + 160",align:"center","fill-color":"gray",":_id":'item.package+":text"'},children:["X"]}]}]},{name:"text",attrs:{x:"200",y:"50","font-size":"40","fill-color":"red"},children:["npm-downloads"]},{name:"ui-hover",attrs:{"c-if":"flag",":x":"hover.x",":y":"hover.y",width:"300",":index":"hover.index",_animation:"quick"},children:[]}],data:function(){return{loadSize:60,pkgs:[],yRuler:[],xDist:0,flag:!1,hover:{}}},mounted:["$getLoopColors","$ruler",function(e,t){return function(){var n=this;window.getLoopColors=e;for(var r=function(e){for(var t=/\?([^&=]+=[^&=]+)(&[^&=]+=[^&=]+)*/.test(e)?e.split("?")[1].split("&"):[],n={},r=0;r<t.length;r++){var i=t[r].split("=");n[i[0]]=i[1]}if(!n.packages||!/^\d+$/.test(n.interval)){var o=n.interval;/^\d+$/.test(o)||(o=7);var a=n.packages||"clunch";window.location.href="./index.html?interval="+o+"&packages="+a}return{packages:n.packages,interval:+(+n.interval>=356?364:+n.interval)}}(window.location.href),i=r.packages.split(","),o=[],a=0;a<i.length;a++)o.push(g(i[a]));var s=setInterval((function(){12==n.loadSize?n.loadSize=60:n.loadSize=12}),500);Promise.all(o).then((function(i){for(var o=[],a=e(i.length),s=0;s<i.length;s++){o.push(i[s]);var l=v(o[o.length-1].downloads,r.interval);o[o.length-1].value=l.value,o[o.length-1].time=l.time,o[o.length-1].color=a[s]}for(var u=o[0].value[0],c=o[0].value[0],f=0;f<o.length;f++)for(var d=0;d<o[f].value.length;d++)o[f].value[d]<u&&(u=o[f].value[d]),o[f].value[d]>c&&(c=o[f].value[d]);var h=t(c>100?c:100,u,10);if(h.min<0){h.min=0,h.ruler=[];for(var p=0;p<=h.max;)h.ruler.push(p),p+=h.distance;h.max=p-h.distance}n.yRuler=h,n.pkgs=o,n.xDist=(n._width-200)/(n.pkgs[0].value.length-1)})).catch((function(e){alert(e||"请求发生未知错误")})).finally((function(){clearInterval(s),n.loadSize=-1}))}}],resized:function(){try{this.xDist=(this._width-200)/(this.pkgs[0].value.length-1)}catch(e){}}}).$bind("click",(function(e){if("id"in e&&/(rect|text)$/.test(e.id)){var t=e.id.replace(/(\:.*)$/,"");window.location.href=window.location.href.replace(t,"").replace("=,","=").replace(/\,$/,"").replace(",,",",")}})).$bind("mousemove",(function(e){"id"in e&&/(rect|text)$/.test(e.id)?this.__el.style.cursor="pointer":this.__el.style.cursor="default";var t=Math.round((e.left-150)/this.xDist);t<0||this.pkgs.length<1||t>=this.pkgs[0].value.length?this.flag=!1:(this.flag=!0,this.hover={x:e.left,y:e.top,index:t})}))}]);